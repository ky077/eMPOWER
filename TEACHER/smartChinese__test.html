<!doctype html>
<html lang="zh-tw">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="eMPOWER華語文字詞句教學平台">
<meta name="author" content="eMPOWER華語文字詞句教學平台">
<title>eMPOWER華語文字詞句教學平台</title>
<link rel="shortcut icon" type="image/x-icon" href="../Content/images/eMPOWER.ico">
<link rel="stylesheet" type="text/css" href="../Content/css/bootstrap-lg.min.css">
<link rel="stylesheet" type="text/css" href="../Content/css/ie10-viewport-bug-workaround.css">
<link rel="stylesheet" type="text/css" href="../Content/widgets/fontawesome-free-5.15.3-web/css/all.css">

<!-- this page widgets CSS --> 

<!-- my core CSS -->
<link rel="stylesheet" type="text/css" href="../Content/css/eMPOWERstyles.css">
<link rel="stylesheet" type="text/css" href="../Content/css/smartChinese.css">
<link rel="stylesheet" type="text/css" href="../Content/css/smartChinese_pages.css">
</head>

<body>
<header>
  <nav class="navbar navi-main navbar-fixed-top">
    <div class="container-fluid">
      <div class="row">
        <div class="col-xs-12">
          <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar"> <span class="sr-only">展開上方主選單</span> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span> </button>
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#sidebar" aria-expanded="false" aria-controls="sidebar"> <span class="sr-only">展開左側選單</span> <i class="fas fa-chevron-right"></i><i class="fas fa-chevron-left"></i></button>
            <a class="navbar-brand" href="#"> <img src="../Content/images/eMPOWER-img.svg" alt="eMPOWER華語文字詞句教學平台" class="img-responsive"> </a>
            <h1>eMPOWER華語文字詞句教學平台</h1>
          </div>
          <div id="navbar" class="navbar-collapse collapse">
            <ul class="nav navbar-nav">
              <li class="navTab-Tindex"><a href="Tindex.html">首頁</a></li>
              <li class="navTab-smartChinese"><a href="smartChinese.html">全方位中文系列</a></li>
              <li class="navTab-chineseSeries"><a href="chineseSeries.html">教材資源區</a></li>
              <li class="navTab-customized"><a href="customized.html">建立自編教材</a></li>
              <li class="navTab-myLibs"><a href="myLibs.html">我的教材庫</a></li>
              <li class="navTab-classMgt dropdown"> <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">班級管理&nbsp;<span class="caret"></span></a>
                <ul class="dropdown-menu">
                  <li><a href="classMgt__students.html">學生名單</a></li>
                  <li><a href="classMgt__groups.html">指派教材</a></li>
                  <li><a href="classMgt__learning.html">學習紀錄</a></li>
                  <li><a href="classMgt__score.html">評量結果</a></li>
                </ul>
              </li>
            </ul>
            <ul class="nav navbar-nav navbar-right">
              <li class="dropdown"><a class="navi-main__loginedBtn" data-target="#" href="#" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">你好，張花花！</a>
                <ul class="dropdown-menu navi-main__userMenu">
                  <li><a href="../index.html" class="btn navi-main__logoutBtn">登出</a></li>
                </ul>
              </li>
              <li class="dropdown"><a class="navi-main__languageBtn" data-target="#" href="#" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">中文(正體)&nbsp;<span class="caret"></span></a>
                <ul class="dropdown-menu navi-main__languageMenu">
                  <li><a href="" check="checked"><span class="language-icon"><span class="glyphicon glyphicon-ok" aria-hidden="true"></span></span>&nbsp;中文(正體)</a></li>
                  <li><a href=""><span class="language-icon"><span class="glyphicon glyphicon-ok" aria-hidden="true"></span></span>&nbsp;中文(简体)</a></li>
                  <li><a href=""><span class="language-icon"><span class="glyphicon glyphicon-ok" aria-hidden="true"></span></span>&nbsp;English(United States)</a></li>
                </ul>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </nav>
</header>
<!-- ------- ------- ------- ------- ------- ------- ------- -->
<main> 
  <!-- page-banner start -->
  <div class="page-banner smartChinese">
    <div class="container-fluid">
      <div class="page-banner__text">
        <div class="row">
          <div class="col-xs-12">
            <h2 class="smartChinese-logo"> <img src="../Content/images/smartChinese/logo-cn.svg" alt="全方位中文" class="logo-cn"> <span> <img src="../Content/images/smartChinese/logo-en.svg" alt="Smart Chinese" class="logo-en"><img src="../Content/images/smartChinese/logo-en-all.svg" alt="Smart Methods for the Adaptive and Responsive Teaching of Chinese" class="logo-en-all"></span></h2>
          </div>
        </div>
      </div>
    </div>
  </div>
  <!-- page-banner end --> 
  
  <!-- 課程試卷 start -->
  <div class="container-fluid">
    <div class="row">
      <div class="col-xs-12 col-lg-12 col-xl-10 col-xl-offset-1">
        <h2 class="base-h2">線上測驗管理<small></small></h2>
        <!--search-panel start--> 
        
        <!--search-panel end--> 
        
        <!--function-panel start-->
        <div id="div_level" class="function-panel">
          <a href="../TEACHER/myLibs__content.aspx?uid=" id="a_back" class="btn btn-main-blue">回目錄</a> <a href="smartChinese__paper.html" class="btn btn-main-blue" id="demo-manual-add">安排測驗</a>
        </div>
        <!--function-panel end--> 
        
        <!--table start-->
        <div class="table-responsive">
          <table id="SC-test-table" class="table table-hover table-style-default table-bordered bg-white">
            <thead>
              <tr class="bg-gray">
                <th class="td-no">編號</th>
                <th class="td-tName">場次名稱</th>
                <th class="td-pName">測驗題本</th>
                <th class="td-startDate">開始時間</th>
                <th class="td-endDate">結束時間</th>
                <th class="td-num">人數</th>
                <th class="td-done">完成</th>
                <th class="td-tools">功能</th>
                <th class="td-delete">刪除</th>
              </tr>
            </thead>
            <tbody id="tbody_list">
              <tr>
                <td class="td-no" data-th="編號：">2</td>
                <td class="td-sName" data-th="場次名稱：">20240601_YF測試班</td>
                <td class="td-tName" data-th="測驗題本：">全方位中文1 <br>
                  第一課 隨堂測驗一 </td>
                <td class="td-startDate" data-th="開始時間：">2024-06-01 12:00</td>
                <td class="td-endDate" data-th="結束時間：">2024-06-30 12:00</td>
                <td class="td-num" data-th="人數：">2</td>
                <td class="td-done" data-th="完成：">0</td>
                <td class="td-tools"><!--學生設定--> 
                  <a role="button" class="mx-1" href="javascript:void(0)" onclick="SetStu(0)"><i class="fas fa-user-plus"></i></a> 
                  <!--學生名單--> 
                  <a role="button" class="mx-1" href="javascript:void(0)" onclick="LoadTester(2)"><i class="far fa-list-alt"></i></a> 
                  <!--場次設定--> 
                  <a role="button" class="mx-1" href="javascript:void(0)" onclick="ShowTest(0)"><i class="fas fa-cog"></i></a> 
                  <!--查看報表--> 
                  <a role="button" class="mx-1" href="javascript:void(0)" onclick="ViewReport(0)"><i class="far fa-file-alt"></i></a>
				  <!--閱覽題目--> 
                  <a role="button" class="mx-1" href="javascript:void(0)" onclick="ViewTopic(true)"><i class="fas fa-eye"></i></a>
				  </td>
                <td class="td-delete"><a role="button" href="javascript:" onclick="DeleteTest(0)"><i class="fa fa-trash"></i><!--刪除--></a></td>
              </tr>
            </tbody>
          </table>
        </div>
        <!--table end--> 
        
        <!-- 頁碼 start -->
        <div id="div_page" class="text-center my-5" aria-label="Page navigation">
          <ul class="pagination em-pagination flex-center">
            <li><a class="disabled" href="javascript:void(0)" onclick="toPrePage()">&lt;</a></li>
            <li><span class="form-inline">
              <input id="Text_page" type="text" class="form-control noRadius sc-pagination-input" value="1" style="width: 3rem;">
              /<label id="label_pageTotal" class="mx-1 sc-pagination-total">1</label></span></li>
            <li><a class="" href="javascript:void(0)" onclick="toNextPage()">&gt;</a></li>
          </ul>
        </div>
        <!-- 頁碼 start -->
      </div>
    </div>
  </div>
  <!-- 課程試卷 end --> 
</main>

<!-- Modal#modal-student start -->
<div class="modal fade modal-student" id="modal-student" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
  <div class="modal-dialog" role="document">
    <div class="modal-content noRadius">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>
        <h4 class="modal-title" id="modal-student-title">學生名單</h4>
      </div>
      <div class="modal-body">
        <table class="table table-hover table-style-default table-bordered" id="modal-student-table">
          <thead>
            <tr class="bg-gray">
              <th>學號</th>
              <th>姓名</th>
              <th>狀態</th>
            </tr>
          </thead>
          <tbody id="tbody_tester">
            <tr>
              <td class="td-no" data-th="編號：">14419</td>
              <td class="td-sName" data-th="姓名：">YF測試001</td>
              <td class="td-state" data-th="狀態："><span class="text-red">未完成</span></td>
            </tr>
            <tr>
              <td class="td-no" data-th="編號：">14457</td>
              <td class="td-sName" data-th="姓名：">YF測試002</td>
              <td class="td-state" data-th="狀態：">完成</td>
            </tr>
          </tbody>
        </table>
        <div class="text-center">
          <a id="btn-student-confirm" href="#" class="btn btn-main-blue" onclick="$('#modal-student').modal('hide');">確定</a>
        </div>
      </div>
    </div>
  </div>
</div>
<!-- Modal#modal-student end --> 

<!-- Modal#setStuModal start -->
<div class="modal fade setStuModal" id="setStuModal" tabindex="-1" role="dialog" data-backdrop="static" data-keyboard="false">
  <div class="modal-dialog modal-lg" role="document">
    <div class="modal-content noRadius">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title">設定學生</h4>
      </div>
      <div class="modal-body">
        <div class="panel-group panel-group-checkbox" id="accordion" role="tablist" aria-multiselectable="true">
          <div class="panel panel-default checkbox-parent">
            <div class="panel-heading" role="tab" id="headingOne">
              <h4 class="panel-title">
                <div class="checkbox icheck-main-blue checkbox-inline">
                  <input type="checkbox" id="A01" name="checkAll">
                  <label for="A01">班級名稱 A</label>
                </div>
              </h4>
            </div>
            <div id="collapseOne" class="panel-collapse checkbox-children" role="tabpanel">
              <div class="panel-body">
                <table class="table table-bordered">
                  <tbody>
                    <tr>
                      <td><div class="checkbox icheck-main-blue checkbox-inline">
                          <input type="checkbox" id="A01s1">
                          <label for="A01s1">學生姓名</label>
                        </div></td>
                      <td><div class="checkbox icheck-main-blue checkbox-inline">
                          <input type="checkbox" id="A01s2">
                          <label for="A01s2">學生姓名</label>
                        </div></td>
                    </tr>
                    <tr>
                      <td><div class="checkbox icheck-main-blue checkbox-inline">
                          <input type="checkbox" id="A01s3">
                          <label for="A01s3">學生姓名</label>
                        </div></td>
                      <td><div class="checkbox icheck-main-blue checkbox-inline">
                          <input type="checkbox" id="A01s4">
                          <label for="A01s4">學生姓名</label>
                        </div></td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <div class="text-center">
          <button type="button" class="btn btn-main-blue-white" data-dismiss="modal" id="setStuModal-cancel">取消</button>
          <button type="button" class="btn btn-main-blue" data-dismiss="modal" id="setStuModal-ok">確定</button>
        </div>
      </div>
    </div>
  </div>
</div>
<!-- Modal#setStuModal end --> 

<!-- Modal#sessionModal start -->
<div class="modal fade sessionModal in" id="sessionModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
  <div class="modal-dialog" role="document">
    <div class="modal-content noRadius">
      <form id="formTest" action="javascript: SetTest();">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>
          <h4 class="modal-title">場次設定</h4>
        </div>
        <div class="modal-body">
          <div class="form-horizontal form-style-2">
            <div class="form-group">
              <label for="Text_test" class="col-sm-3 control-label pr-sm-0"><span class="text-red">*</span>場次名稱</label>
              <div class="col-sm-8">
                <input id="Text_test" type="text" class="form-control" disabled="">
              </div>
            </div>
            <div class="form-group">
              <label for="Text_paper" class="col-sm-3 control-label pr-sm-0"><span class="text-red">*</span>測驗題本</label>
              <div class="col-sm-8">
                <input id="Text_paper" name="Text_paper" type="text" class="form-control" disabled="">
              </div>
            </div>
            <div class="form-group">
              <label for="program-name" class="col-sm-3 control-label pr-sm-0"><span class="text-red">*</span>開始時間</label>
              <div class="col-sm-4 mb-1 mb-sm-0 pr-sm-0">
                <input id="Text_startDate" name="Text_startDate" type="date" class="form-control" required="required">
              </div>
              <div class="col-sm-4">
                <input id="Text_startTime" name="Text_startDate" type="time"  class="form-control" required="required">
              </div>
            </div>
            <div class="form-group">
              <label for="program-name" class="col-sm-3 control-label pr-sm-0"><span class="text-red">*</span>結束時間</label>
              <div class="col-sm-4 mb-1 mb-sm-0 pr-sm-0">
                <input id="Text_endDate" name="Text_endDate" type="date" class="form-control" required="required">
              </div>
              <div class="col-sm-4">
                <input id="Text_endTime" name="Text_endDate" type="time" class="form-control" required="required">
              </div>
            </div>
          </div>
        </div>
        <div class="modal-footer">
          <div class="text-center">
            <button id="CANCEL" type="reset" class="btn btn-main-blue-white btn-lg" data-dismiss="modal">取消</button>
            <button id="OK" type="submit" class="btn btn-main-blue btn-lg">確定</button>
          </div>
        </div>
      </form>
    </div>
  </div>
</div>
<!-- Modal#sessionModal end --> 

<!-- Modal#viewReportModal start -->
<div class="modal fade viewReportModal" id="viewReportModal" tabindex="-1" role="dialog" aria-labelledby="viewReportModalLabel">
  <div class="modal-dialog modal-xl" role="document">
    <div class="modal-content noRadius">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>
        <h4 class="modal-title" id="viewReportModal-title">查看報表</h4>
      </div>
      <div class="modal-body">
        <div class="table-responsive">
          <table class="table table-hover table-style-default table-bordered viewReportModal-table small" id="viewReportModal-table">
            <thead>
              <tr class="bg-gray">
                <th>測驗題本</th>
                <th>班級</th>
                <th>姓名</th>
                <th>帳號</th>
                <th>完成時間</th>
                <th class="text-center">測驗成績</th>
                <th class="text-center">答題狀況</th>  
              </tr>
            </thead>
            <tbody id="">
              <tr>
                <td class="td-testName" data-th="測驗題本：">全方位中文1 全冊總測驗</td>
                <td class="td-class" data-th="班級：">大花班</td>
                <td class="td-sName" data-th="姓名：">林小美</td>
                <td class="td-sAccount" data-th="帳號：">abc123@ntnu.edu.tw</td>
                <td class="td-done" data-th="完成時間：">2024/7/31 上午 10:00</td>
                <td class="td-score" data-th="測驗成績："><span class="score-num">96</span><span class="score-total">100</span></td>
                <td class="td-result" data-th="答題狀況："><a class="btn btn-xs btn-primary" target="_blank" href="">答題狀況</a></td>  
              </tr>
              <tr>
                <td class="td-testName" data-th="測驗題本：">全方位中文1 全冊總測驗</td>
                <td class="td-class" data-th="班級：">大花班</td>
                <td class="td-sName" data-th="姓名：">王大明</td>
                <td class="td-sAccount" data-th="帳號：">abc124@ntnu.edu.tw</td>
                <td class="td-done" data-th="完成時間：">2024/7/31 上午 9:58</td>
                <td class="td-score" data-th="測驗成績："><span class="score-num">60</span><span class="score-total">100</span></td>
                <td class="td-result" data-th="答題狀況："><a class="btn btn-xs btn-primary" target="_blank" href="">答題狀況</a></td>    
              </tr>
              <tr>
                <td class="td-testName" data-th="測驗題本：">全方位中文1 全冊總測驗</td>
                <td class="td-class" data-th="班級：">小草班</td>
                <td class="td-sName" data-th="姓名：">陳中明</td>
                <td class="td-sAccount" data-th="帳號：">abd111@ntnu.edu.tw</td>
                <td class="td-done" data-th="完成時間："><span class="text-red">未完成</span></td>
                <td class="td-score text-center" data-th="測驗成績："><span class="score-num">100</span><span class="score-total">100</span></td>
                <td class="td-result" data-th="答題狀況："><a class="btn btn-xs btn-primary" target="_blank" href="">答題狀況</a></td>    
              </tr>
            </tbody>
          </table>
        </div>
        <div class="text-center">
          <a id="" href="#" class="btn btn-main-blue" data-dismiss="modal">關閉</a>
        </div>
      </div>
    </div>
  </div>
</div>
<!-- Modal#viewReportModal end --> 
<!-- ------- ------- ------- ------- ------- ------- ------- -->
<footer class="footer"> </footer>
<!-- ------- ------- ------- ------- ------- ------- ------- --> 
<!-- ------- ------- ------- ------- ------- ------- ------- --> 
<!-- ------- ------- ------- ------- ------- ------- ------- --> 
<script src="../Script/jquery.min.js"></script> 
<script src="../Script/bootstrap.min.js"></script> 
<script src="../Script/ie10-viewport-bug-workaround.js"></script> 
<!-- widgets js --> 
<script src="../Content/js/doubleScorollbar.js"></script> 
<script>
$(document).ready(function() {
	//nowPage 
	$('.navTab-smartChinese').addClass('active');
    
    //功能tooltips
    $('#SC-test-table .td-tools').find('[onclick*="ShowTest"]').tooltip({
        placement: 'bottom',
        title:     '場次設定',
    });
    $('#SC-test-table .td-tools').find('[onclick*="SetStu"]').tooltip({
        placement: 'bottom',
        title:     '設定學生',
    });
    $('#SC-test-table .td-tools').find('[onclick*="LoadTester"]').tooltip({
        placement: 'bottom',
        title:     '學生名單',
    });
    $('#SC-test-table .td-tools').find('[onclick*="ViewReport"]').tooltip({
        placement: 'bottom',
        title:     '查看報表',
    });
	$('#SC-test-table .td-tools').find('[onclick*="ViewTopic"]').tooltip({
        placement: 'bottom',
        title:     '閱覽題目',
    });
    
    //選擇學生
    checkboxFun();    
    function checkboxFun(){
        //全選
        $('input[name="checkAll"]').change(function(){ 
            var parents = $(this).closest('.checkbox-parent');
            var children = parents.find('.checkbox-children');

            var allBox = children.find('input[type="checkbox"]:checkbox');
            $(this).is(':checked') ? allBox.prop('indeterminate', false) : allBox.prop('indeterminate', false);
            $(this).is(':checked') ? allBox.prop('checked', true) : allBox.prop('checked', false);
        }); 

        //反選
        $('input[type="checkbox"]:not([name="checkAll"])').change(function(){  
            var parents = $(this).closest('.checkbox-parent');
            var children = parents.find('.checkbox-children');
                                                                             
            var allBox = children.find('input[type="checkbox"]:checkbox');  
            var checkedBox = children.find('input[type="checkbox"]:checked');  
            var targetBox = parents.find('input[name="checkAll"]:checkbox');  
            
            if ( checkedBox.length === allBox.length ) {
                targetBox.prop({
                    indeterminate: false,
                    checked: true
                });
            } else if ( checkedBox.length === 0 ){
                targetBox.prop({
                    indeterminate: false,
                    checked: false
                });
            } else {
                targetBox.prop({
                    indeterminate: true,
                    checked: false
                });
            }
        });
    }  
    
    //[設定學生] > 選擇學生 > [確定] 顯示人數
    $('#setStuModal-ok').click(function(){ 
        let checkStu = $('#setStuModal').find('input[type="checkbox"]:not([name="checkAll"]):checked').length;
        console.log(checkStu);
        
        //do something...(更新資料)
        //do something...(表格人數更新)
        $('#SC-test-table tbody tr:nth-child(1) .td-num').text(checkStu); 
    });
});
    
//[設定學生]
function SetStu(index){
    $('#setStuModal').modal('show');  

    //do something...(載入班級名稱、學生名單、已勾選值)
    $('#headingOne label').text($("#Text_group").val());
    $('#A01s1, #A01s2').prop('checked', true).trigger('change');
} 
    
//[學生名單]
function LoadTester(_testSN) {
    $('#modal-student').modal('show');
}    
    
//[場次設定]   
let testSN = 0;
function ShowTest(index) {
    //let test = test_arr[index];
    //testSN = test["testSN"];
    $("#Text_test").val("20240601_YF測試班");
    $("#Text_paper").val("全方位中文1 第一課 隨堂測驗一");
    $("#Text_startDate").val("2024-06-01");
    $("#Text_startTime").val("12:00");
    $("#Text_endDate").val("2024-06-30");
    $("#Text_endTime").val("12:00");

    $('#sessionModal').modal('show');
} 
    
//[查看報表]
function ViewReport(_testSN) {
    $('#viewReportModal').modal('show');
}  
	
//[閱覽題目]
function ViewTopic(view) {
     window.open('https://ky077.github.io/SC/SCstudent/listening-01.html?viewTopic=' + view, '_blank');
}  	
</script>
</body>
</html>
