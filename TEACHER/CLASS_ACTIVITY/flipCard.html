<!doctype html>
<html lang="zh-tw">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="eMPOWER華語文字詞句教學平台">
<meta name="author" content="eMPOWER華語文字詞句教學平台">
<title>翻轉卡片活動進行頁面 | eMPOWER華語文字詞句教學平台</title>
<link rel="shortcut icon" type="image/x-icon" href="../../Content/images/eMPOWER.ico">
<link rel="stylesheet" type="text/css" href="../../Content/css/bootstrap_custom.css">
<link rel="stylesheet" type="text/css" href="../../Content/widgets/fontawesome-free-5.15.3-web/css/all.css">
<!-- core CSS -->
<link rel="stylesheet" type="text/css" href="../../Content/css/CA.css">
</head>

<body><form>
<div class="container-fluid CA-block CA-flip">
  <div class="row">
    <div class="col-lg-4 bg-grid position-fixed"> 
      <!-- -->
      <div class="row h-100 justify-content-center align-content-center">
        <div class="col-12 pt-3 pb-4">
          <div class="row justify-content-center">
            <div class="col-4 col-md-3 col-lg-10 mb-lg-5 d-flex flex-column justify-content-center">
              <div class="CA-logo"> <img src="../../Content/images/eMPOWER-img.svg" alt="eMPOWER"/>
                <h1 class="d-none d-lg-block">翻轉卡片</h1>
              </div>
            </div>
            <div class="col-8 col-lg-10 mb-lg-5  d-block d-lg-none">
              <h2 class="mb-0 h3">翻轉卡片</h2>
            </div>
          </div>
        </div>
        <div class="col-6 col-sm-6 mb-4">
          <h2 class="h6 text-center mb-2 fw-normal">活動代碼</h2>
          <div class="form-control rounded-0 text-center col-6 fs-2 fw-bold">545113</div>
        </div>
        <div class="w-100"></div>
        <div class="col-6 mb-5 mb-lg-0"> <img src="../../Content/temp/qr-flipCard.png" alt="" class="img-fluid"/> </div>
      </div>
      <!-- --> 
    </div>
    <div class="col-lg-8 bg-pure ms-auto"> 
      <!-- --> 
      <div class="row h-100 justify-content-center align-content-center py-5">
        <h2 class="text-center h5 mb-4">學生作答情況</h2>
        <div class="row justify-content-center text-cyan">
          <div class="col-6 col-sm-5 col-xl-4 col-xxl-3 text-center">
            <div class="CA-listen__circle">
              <div class="circle-wrap bg-white text-cyan border-cyan">
                <div class="circle-text">
                  <div>參加人數</div>
                  <div class="display-6 fw-bold" id="JOINNUM">0</div>
                </div>
              </div>
            </div>
          </div>
          <div class="col-6 col-sm-5 col-xl-4 col-xxl-3 text-center">
            <div class="CA-listen__circle">
              <div class="circle-wrap bg-cyan text-white border-cyan">
                <div class="circle-text">
                  <div>完成人數</div>
                  <div class="display-6 fw-bold" id="DONENUM">0</div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="w-100"></div>
        <div class="col-12 col-xxl-11 mx-auto mt-5 mb-4">
          <div class="CA-ranking" id="STU_ANS">
            <!--<div class="row align-items-center CA-ranking-item">
              <div class="col-12 col-md-3">
                <div class="contestant text-center text-md-end overflow-hidden text-truncate">
                  <div class="avater"><img src="../../Content/images/classActivity/avatar/avatar_1.png" alt=""/></div>
                  Amy</div>
              </div>
              <div class="col-12 col-md-6 px-md-0 my-1">
                <div class="progress rounded-pill">
                  <div class="progress-bar bg-cyan" role="progressbar" style="width: 100%" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100" data-bs-toggle="tooltip" data-bs-placement="top" data-bs-title="作答進度">100%</div>
                </div>
              </div>
              <div class="col-12 col-md-3 text-center text-md-start"><span data-bs-toggle="tooltip" data-bs-placement="top" data-bs-title="作答時長" style=""><i class="far fa-clock text-cyan"></i><span class="mx-1 text-cyan fw-bold">00:01:05</span></span></div>
            </div>
            <div class="row align-items-center CA-ranking-item">
              <div class="col-12 col-md-3">
                <div class="contestant text-center text-md-end overflow-hidden text-truncate">
                  <div class="avater"><img src="../../Content/images/classActivity/avatar/avatar_2.png" alt=""/></div>
                  Cathy</div>
              </div>
              <div class="col-12 col-md-6 px-md-0 my-1">
                <div class="progress rounded-pill">
                  <div class="progress-bar bg-cyan" role="progressbar" style="width: 100%" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100" data-bs-toggle="tooltip" data-bs-placement="top" data-bs-title="作答進度">100%</div>
                </div>
              </div>
              <div class="col-12 col-md-3 text-center text-md-start"><span data-bs-toggle="tooltip" data-bs-placement="top" data-bs-title="作答時長"><i class="far fa-clock text-cyan"></i><span class="mx-1 text-cyan fw-bold">00:01:33</span></span></div>
            </div>
            <div class="row align-items-center CA-ranking-item">
              <div class="col-12 col-md-3">
                <div class="contestant text-center text-md-end overflow-hidden text-truncate">
                  <div class="avater"><img src="../../Content/images/classActivity/avatar/avatar_5.png" alt=""/></div>
                  Brain</div>
              </div>
              <div class="col-12 col-md-6 px-md-0 my-1">
                <div class="progress rounded-pill">
                  <div class="progress-bar bg-cyan" role="progressbar" style="width: 75%" aria-valuenow="75" aria-valuemin="0" aria-valuemax="100" data-bs-toggle="tooltip" data-bs-placement="top" data-bs-title="作答進度">75%</div>
                </div>
              </div>
              <div class="col-12 col-md-3 text-center text-md-start"><span data-bs-toggle="tooltip" data-bs-placement="top" data-bs-title="作答時長" style="display: none;"><i class="far fa-clock text-cyan"></i><span class="mx-1 text-cyan fw-bold"></span></span></div>
            </div>
            <div class="row align-items-center CA-ranking-item">
              <div class="col-12 col-md-3">
                <div class="contestant text-center text-md-end overflow-hidden text-truncate">
                  <div class="avater"><img src="../../Content/images/classActivity/avatar/avatar_3.png" alt=""/></div>
                  Daren</div>
              </div>
              <div class="col-12 col-md-6 px-md-0 my-1">
                <div class="progress rounded-pill">
                  <div class="progress-bar bg-cyan" role="progressbar" style="width: 50%" aria-valuenow="50" aria-valuemin="0" aria-valuemax="100" data-bs-toggle="tooltip" data-bs-placement="top" data-bs-title="作答進度">50%</div>
                </div>
              </div>
              <div class="col-12 col-md-3 text-center text-md-start"><span data-bs-toggle="tooltip" data-bs-placement="top" data-bs-title="作答時長" style="display: none;"><i class="far fa-clock text-cyan"></i><span class="mx-1 text-cyan fw-bold"></span></span></div>
            </div>
            <div class="row align-items-center CA-ranking-item">
              <div class="col-12 col-md-3">
                <div class="contestant text-center text-md-end overflow-hidden text-truncate">
                  <div class="avater"><img src="../../Content/images/classActivity/avatar/avatar_1.png" alt=""/></div>
                  Christina</div>
              </div>
              <div class="col-12 col-md-6 px-md-0 my-1">
                <div class="progress rounded-pill">
                  <div class="progress-bar bg-cyan" role="progressbar" style="width: 12.5%" aria-valuenow="12.5" aria-valuemin="0" aria-valuemax="100" data-bs-toggle="tooltip" data-bs-placement="top" data-bs-title="作答進度">12.5%</div>
                </div>
              </div>
              <div class="col-12 col-md-3 text-center text-md-start"><span data-bs-toggle="tooltip" data-bs-placement="top" data-bs-title="作答時長" style="display: none;"><i class="far fa-clock text-cyan"></i><span class="mx-1 text-cyan fw-bold"></span></span></div>
            </div>-->
          </div>
          <button class="btn btn-cyan position-absolute bottom-0 end-0 mb-4 me-4" type="button" id="ENDACTIVITY">結束活動</button>
        </div>
      </div>
      <!-- --> 
    </div>
  </div>
</div>
    </form>
<!-- ------- ------- ------- ------- ------- ------- ------- --> 
<!-- ------- ------- ------- ------- ------- ------- ------- --> 
<!-- ------- ------- ------- ------- ------- ------- ------- --> 
<script src="../../Script/bootstrap.bundle.min.js">//BS5 js</script> 
<script>
//僅模擬大概效果，非正式前端
let dataTopic = [
      {
        "word": "增",
        "pinyin": "zēng",
        "def": "add/gain/increase",  
      },
      {
        "word": "好",
        "pinyin": "hǎu",
        "def": "good/ well/great",  
      },
      {
        "word": "與眾不同",
        "pinyin": "yǔzhòngbùtóng",
        "def": "be one of a kind/ unique",  
      },
      {
        "word": "貨比三家不吃虧",
        "pinyin": "huòbǐsānjiābùchīkuī",
        "def": "shop around first and you won't get ripped off",  
      },
      {
        "word": "興",
        "pinyin": "xìng",
        "def": "interest",  
      },
      {
        "word": "級",
        "pinyin": "jí",
        "def": "level/ rank/ class/ grade",  
      },
      {
        "word": "已",
        "pinyin": "yǐ",
        "def": "afterwards/ already/ end",  
      },
      {
        "word": "照片",
        "pinyin": "zhàopiàn",
        "def": "photo/ picture",  
      }
  ];   
let dataAvater = [
    {
        "user": "Amy",
        "avater": getRandomNumber(1, 56) 
    },
    {
        "user": "Brian",
        "avater": getRandomNumber(1, 56) 
    },
    {
        "user": "Christina",
        "avater": getRandomNumber(1, 56) 
    },
    {
        "user": "Daren",
        "avater": getRandomNumber(1, 56) 
    },
    {
        "user": "Eddie",
        "avater": getRandomNumber(1, 56) 
    }
];  
    
let i = 0;
let data = []; 
    
intervalData();    
  
//每秒顯示取得不同data    
function intervalData(){
    let interval = setInterval(function(){
        i++; 
        
        switch (i){
          case 2:
            data = [{ "name": "Amy",       
                      "enterSec": "2022/10/26 11:00:02", 
                      "doneTime": []}
                   ];
            break;      
          case 3:
            data = [{ "name": "Amy",       
                      "enterSec": "2022/10/26 11:00:02", 
                      "doneTime": []},
                    { "name": "Brian",     
                      "enterSec": "2022/10/26 11:00:03", 
                      "doneTime": []},
                    { "name": "Eddie",     
                      "enterSec": "2022/10/26 11:00:03", 
                      "doneTime": []},
                    { "name": "Christina", 
                      "enterSec": "2022/10/26 11:00:03", 
                      "doneTime": []}
                   ];
            break;     
          case 4:
            data = [{ "name": "Amy",       
                      "enterSec": "2022/10/26 11:00:02", 
                      "doneTime": []},
                    { "name": "Brian",     
                      "enterSec": "2022/10/26 11:00:03", 
                      "doneTime": []},
                    { "name": "Eddie",     
                      "enterSec": "2022/10/26 11:00:03", 
                      "doneTime": []},
                    { "name": "Christina", 
                      "enterSec": "2022/10/26 11:00:03", 
                      "doneTime": []},
                    { "name": "Daren",     
                      "enterSec": "2022/10/26 11:00:04", 
                      "doneTime": []}
                   ];
            break;     
          case 7:
            data = [{ "name": "Amy",       
                      "enterSec": "2022/10/26 11:00:02", 
                      "doneTime": ["2022/10/26 11:00:07"]},
                    { "name": "Brian",     
                      "enterSec": "2022/10/26 11:00:03", 
                      "doneTime": []},
                    { "name": "Eddie",     
                      "enterSec": "2022/10/26 11:00:03", 
                      "doneTime": []},
                    { "name": "Christina", 
                      "enterSec": "2022/10/26 11:00:03", 
                      "doneTime": []},
                    { "name": "Daren",     
                      "enterSec": "2022/10/26 11:00:04", 
                      "doneTime": []}
                   ];
            break;       
          case 8:
            data = [{ "name": "Amy",       
                      "enterSec": "2022/10/26 11:00:02", 
                      "doneTime": ["2022/10/26 11:00:07"]},
                    { "name": "Brian",     
                      "enterSec": "2022/10/26 11:00:03", 
                      "doneTime": ["2022/10/26 11:00:08"]},
                    { "name": "Eddie",     
                      "enterSec": "2022/10/26 11:00:03", 
                      "doneTime": []},
                    { "name": "Christina", 
                      "enterSec": "2022/10/26 11:00:03", 
                      "doneTime": []},
                    { "name": "Daren",     
                      "enterSec": "2022/10/26 11:00:04", 
                      "doneTime": []}
                   ];
            break;      
          case 11:
            data = [{ "name": "Amy",       
                      "enterSec": "2022/10/26 11:00:02", 
                      "doneTime": ["2022/10/26 11:00:07"]},
                    { "name": "Brian",     
                      "enterSec": "2022/10/26 11:00:03", 
                      "doneTime": ["2022/10/26 11:00:08"]},
                    { "name": "Eddie",     
                      "enterSec": "2022/10/26 11:00:03", 
                      "doneTime": ["2022/10/26 11:00:11"]},
                    { "name": "Christina", 
                      "enterSec": "2022/10/26 11:00:03", 
                      "doneTime": []},
                    { "name": "Daren",     
                      "enterSec": "2022/10/26 11:00:04", 
                      "doneTime": []}
                   ];
            break;       
          case 12:
            data = [{ "name": "Amy",       
                      "enterSec": "2022/10/26 11:00:02", 
                      "doneTime": ["2022/10/26 11:00:07", "2022/10/26 11:00:12"]},
                    { "name": "Brian",     
                      "enterSec": "2022/10/26 11:00:03", 
                      "doneTime": ["2022/10/26 11:00:08"]},
                    { "name": "Eddie",     
                      "enterSec": "2022/10/26 11:00:03", 
                      "doneTime": ["2022/10/26 11:00:11"]},
                    { "name": "Christina", 
                      "enterSec": "2022/10/26 11:00:03", 
                      "doneTime": []},
                    { "name": "Daren",     
                      "enterSec": "2022/10/26 11:00:04", 
                      "doneTime": ["2022/10/26 11:00:12"]}
                   ];
            break;       
          case 13:
            data = [{ "name": "Amy",       
                      "enterSec": "2022/10/26 11:00:02", 
                      "doneTime": ["2022/10/26 11:00:07", "2022/10/26 11:00:12"]},
                    { "name": "Brian",     
                      "enterSec": "2022/10/26 11:00:03", 
                      "doneTime": ["2022/10/26 11:00:08"]},
                    { "name": "Eddie",     
                      "enterSec": "2022/10/26 11:00:03", 
                      "doneTime": ["2022/10/26 11:00:11"]},
                    { "name": "Christina", 
                      "enterSec": "2022/10/26 11:00:03", 
                      "doneTime": []},
                    { "name": "Daren",     
                      "enterSec": "2022/10/26 11:00:04", 
                      "doneTime": ["2022/10/26 11:00:12"]}
                   ];
            break;       
          case 14:
            data = [{ "name": "Amy",       
                      "enterSec": "2022/10/26 11:00:02", 
                      "doneTime": ["2022/10/26 11:00:07", "2022/10/26 11:00:12"]},
                    { "name": "Brian",     
                      "enterSec": "2022/10/26 11:00:03", 
                      "doneTime": ["2022/10/26 11:00:08", "2022/10/26 11:00:13"]},
                    { "name": "Eddie",     
                      "enterSec": "2022/10/26 11:00:03", 
                      "doneTime": ["2022/10/26 11:00:11"]},
                    { "name": "Christina", 
                      "enterSec": "2022/10/26 11:00:03", 
                      "doneTime": ["2022/10/26 11:00:13"]},
                    { "name": "Daren",     
                      "enterSec": "2022/10/26 11:00:04", 
                      "doneTime": ["2022/10/26 11:00:12"]}
                   ];
            break;      
          case 15:
            data = [{ "name": "Amy",       
                      "enterSec": "2022/10/26 11:00:02", 
                      "doneTime": ["2022/10/26 11:00:07", "2022/10/26 11:00:12"]},
                    { "name": "Brian",     
                      "enterSec": "2022/10/26 11:00:03", 
                      "doneTime": ["2022/10/26 11:00:08", "2022/10/26 11:00:13", "2022/10/26 11:00:15"]},
                    { "name": "Eddie",     
                      "enterSec": "2022/10/26 11:00:03", 
                      "doneTime": ["2022/10/26 11:00:11", "2022/10/26 11:00:15"]},
                    { "name": "Christina", 
                      "enterSec": "2022/10/26 11:00:03", 
                      "doneTime": ["2022/10/26 11:00:13"]},
                    { "name": "Daren",     
                      "enterSec": "2022/10/26 11:00:04", 
                      "doneTime": ["2022/10/26 11:00:12"]}
                   ];
            break;      
          case 16:
            data = [{ "name": "Amy",       
                      "enterSec": "2022/10/26 11:00:02", 
                      "doneTime": ["2022/10/26 11:00:07", "2022/10/26 11:00:12"]},
                    { "name": "Brian",     
                      "enterSec": "2022/10/26 11:00:03", 
                      "doneTime": ["2022/10/26 11:00:08", "2022/10/26 11:00:13", "2022/10/26 11:00:15", "2022/10/26 11:00:16"]},
                    { "name": "Eddie",     
                      "enterSec": "2022/10/26 11:00:03", 
                      "doneTime": ["2022/10/26 11:00:11", "2022/10/26 11:00:15"]},
                    { "name": "Christina", 
                      "enterSec": "2022/10/26 11:00:03", 
                      "doneTime": ["2022/10/26 11:00:13"]},
                    { "name": "Daren",     
                      "enterSec": "2022/10/26 11:00:04", 
                      "doneTime": ["2022/10/26 11:00:12"]}
                   ];
            break;       
          case 17:
            data = [{ "name": "Amy",       
                      "enterSec": "2022/10/26 11:00:02", 
                      "doneTime": ["2022/10/26 11:00:07", "2022/10/26 11:00:12", "2022/10/26 11:00:17"]},
                    { "name": "Brian",     
                      "enterSec": "2022/10/26 11:00:03", 
                      "doneTime": ["2022/10/26 11:00:08", "2022/10/26 11:00:13", "2022/10/26 11:00:15", "2022/10/26 11:00:16"]},
                    { "name": "Eddie",     
                      "enterSec": "2022/10/26 11:00:03", 
                      "doneTime": ["2022/10/26 11:00:11", "2022/10/26 11:00:15"]},
                    { "name": "Christina", 
                      "enterSec": "2022/10/26 11:00:03", 
                      "doneTime": ["2022/10/26 11:00:13"]},
                    { "name": "Daren",     
                      "enterSec": "2022/10/26 11:00:04", 
                      "doneTime": ["2022/10/26 11:00:12"]}
                   ];
            break;      
          case 18:
            data = [{ "name": "Amy",       
                      "enterSec": "2022/10/26 11:00:02", 
                      "doneTime": ["2022/10/26 11:00:07", "2022/10/26 11:00:12", "2022/10/26 11:00:17", "2022/10/26 11:00:18"]},
                    { "name": "Brian",     
                      "enterSec": "2022/10/26 11:00:03", 
                      "doneTime": ["2022/10/26 11:00:08", "2022/10/26 11:00:13", "2022/10/26 11:00:15", "2022/10/26 11:00:16"]},
                    { "name": "Eddie",     
                      "enterSec": "2022/10/26 11:00:03", 
                      "doneTime": ["2022/10/26 11:00:11", "2022/10/26 11:00:15", "2022/10/26 11:00:18"]},
                    { "name": "Christina", 
                      "enterSec": "2022/10/26 11:00:03", 
                      "doneTime": ["2022/10/26 11:00:13", "2022/10/26 11:00:18"]},
                    { "name": "Daren",     
                      "enterSec": "2022/10/26 11:00:04", 
                      "doneTime": ["2022/10/26 11:00:12"]}
                   ];
            break;      
          case 19:
            data = [{ "name": "Amy",       
                      "enterSec": "2022/10/26 11:00:02", 
                      "doneTime": ["2022/10/26 11:00:07", "2022/10/26 11:00:12", "2022/10/26 11:00:17", "2022/10/26 11:00:18"]},
                    { "name": "Brian",     
                      "enterSec": "2022/10/26 11:00:03", 
                      "doneTime": ["2022/10/26 11:00:08", "2022/10/26 11:00:13", "2022/10/26 11:00:15", "2022/10/26 11:00:16",
                                   "2022/10/26 11:00:18"]},
                    { "name": "Eddie",     
                      "enterSec": "2022/10/26 11:00:03", 
                      "doneTime": ["2022/10/26 11:00:11", "2022/10/26 11:00:15", "2022/10/26 11:00:18"]},
                    { "name": "Christina", 
                      "enterSec": "2022/10/26 11:00:03", 
                      "doneTime": ["2022/10/26 11:00:13", "2022/10/26 11:00:18"]},
                    { "name": "Daren",     
                      "enterSec": "2022/10/26 11:00:04", 
                      "doneTime": ["2022/10/26 11:00:12", "2022/10/26 11:00:19"]}
                   ];
            break;      
          case 20:
            data = [{ "name": "Amy",       
                      "enterSec": "2022/10/26 11:00:02", 
                      "doneTime": ["2022/10/26 11:00:07", "2022/10/26 11:00:12", "2022/10/26 11:00:17", "2022/10/26 11:00:18",
                                   "2022/10/26 11:00:20"]},
                    { "name": "Brian",     
                      "enterSec": "2022/10/26 11:00:03", 
                      "doneTime": ["2022/10/26 11:00:08", "2022/10/26 11:00:13", "2022/10/26 11:00:15", "2022/10/26 11:00:16",
                                   "2022/10/26 11:00:18", "2022/10/26 11:00:20"]},
                    { "name": "Eddie",     
                      "enterSec": "2022/10/26 11:00:03", 
                      "doneTime": ["2022/10/26 11:00:11", "2022/10/26 11:00:15", "2022/10/26 11:00:18"]},
                    { "name": "Christina", 
                      "enterSec": "2022/10/26 11:00:03", 
                      "doneTime": ["2022/10/26 11:00:13", "2022/10/26 11:00:18", "2022/10/26 11:00:20"]},
                    { "name": "Daren",     
                      "enterSec": "2022/10/26 11:00:04", 
                      "doneTime": ["2022/10/26 11:00:12", "2022/10/26 11:00:19"]}
                   ];
            break;      
          case 21:
            data = [{ "name": "Amy",       
                      "enterSec": "2022/10/26 11:00:02", 
                      "doneTime": ["2022/10/26 11:00:07", "2022/10/26 11:00:12", "2022/10/26 11:00:17", "2022/10/26 11:00:18",
                                   "2022/10/26 11:00:20"]},
                    { "name": "Brian",     
                      "enterSec": "2022/10/26 11:00:03", 
                      "doneTime": ["2022/10/26 11:00:08", "2022/10/26 11:00:13", "2022/10/26 11:00:15", "2022/10/26 11:00:16",
                                   "2022/10/26 11:00:18", "2022/10/26 11:00:20", "2022/10/26 11:00:21"]},
                    { "name": "Eddie",     
                      "enterSec": "2022/10/26 11:00:03", 
                      "doneTime": ["2022/10/26 11:00:11", "2022/10/26 11:00:15", "2022/10/26 11:00:18"]},
                    { "name": "Christina", 
                      "enterSec": "2022/10/26 11:00:03", 
                      "doneTime": ["2022/10/26 11:00:13", "2022/10/26 11:00:18", "2022/10/26 11:00:20"]},
                    { "name": "Daren",     
                      "enterSec": "2022/10/26 11:00:04", 
                      "doneTime": ["2022/10/26 11:00:12", "2022/10/26 11:00:19"]}
                   ];
            break;     
          case 22:
            data = [{ "name": "Amy",       
                      "enterSec": "2022/10/26 11:00:02", 
                      "doneTime": ["2022/10/26 11:00:07", "2022/10/26 11:00:12", "2022/10/26 11:00:17", "2022/10/26 11:00:18",
                                   "2022/10/26 11:00:20", "2022/10/26 11:00:22"]},
                    { "name": "Brian",     
                      "enterSec": "2022/10/26 11:00:03", 
                      "doneTime": ["2022/10/26 11:00:08", "2022/10/26 11:00:13", "2022/10/26 11:00:15", "2022/10/26 11:00:16",
                                   "2022/10/26 11:00:18", "2022/10/26 11:00:20", "2022/10/26 11:00:21", "2022/10/26 11:00:22"]},
                    { "name": "Eddie",     
                      "enterSec": "2022/10/26 11:00:03", 
                      "doneTime": ["2022/10/26 11:00:11", "2022/10/26 11:00:15", "2022/10/26 11:00:18", "2022/10/26 11:00:22"]},
                    { "name": "Christina", 
                      "enterSec": "2022/10/26 11:00:03", 
                      "doneTime": ["2022/10/26 11:00:13", "2022/10/26 11:00:18", "2022/10/26 11:00:20"]},
                    { "name": "Daren",     
                      "enterSec": "2022/10/26 11:00:04", 
                      "doneTime": ["2022/10/26 11:00:12", "2022/10/26 11:00:19"]}
                   ];
            break;      
          case 23:
            data = [{ "name": "Amy",       
                      "enterSec": "2022/10/26 11:00:02", 
                      "doneTime": ["2022/10/26 11:00:07", "2022/10/26 11:00:12", "2022/10/26 11:00:17", "2022/10/26 11:00:18",
                                   "2022/10/26 11:00:20", "2022/10/26 11:00:22"]},
                    { "name": "Brian",     
                      "enterSec": "2022/10/26 11:00:03", 
                      "doneTime": ["2022/10/26 11:00:08", "2022/10/26 11:00:13", "2022/10/26 11:00:15", "2022/10/26 11:00:16",
                                   "2022/10/26 11:00:18", "2022/10/26 11:00:20", "2022/10/26 11:00:21", "2022/10/26 11:00:22"]},
                    { "name": "Eddie",     
                      "enterSec": "2022/10/26 11:00:03", 
                      "doneTime": ["2022/10/26 11:00:11", "2022/10/26 11:00:15", "2022/10/26 11:00:18", "2022/10/26 11:00:22"]},
                    { "name": "Christina", 
                      "enterSec": "2022/10/26 11:00:03", 
                      "doneTime": ["2022/10/26 11:00:13", "2022/10/26 11:00:18", "2022/10/26 11:00:20"]},
                    { "name": "Daren",     
                      "enterSec": "2022/10/26 11:00:04", 
                      "doneTime": ["2022/10/26 11:00:12", "2022/10/26 11:00:19"]}
                   ];
            break;      
          case 24:
            data = [{ "name": "Amy",       
                      "enterSec": "2022/10/26 11:00:02", 
                      "doneTime": ["2022/10/26 11:00:07", "2022/10/26 11:00:12", "2022/10/26 11:00:17", "2022/10/26 11:00:18",
                                   "2022/10/26 11:00:20", "2022/10/26 11:00:22"]},
                    { "name": "Brian",     
                      "enterSec": "2022/10/26 11:00:03", 
                      "doneTime": ["2022/10/26 11:00:08", "2022/10/26 11:00:13", "2022/10/26 11:00:15", "2022/10/26 11:00:16",
                                   "2022/10/26 11:00:18", "2022/10/26 11:00:20", "2022/10/26 11:00:21", "2022/10/26 11:00:22"]},
                    { "name": "Eddie",     
                      "enterSec": "2022/10/26 11:00:03", 
                      "doneTime": ["2022/10/26 11:00:11", "2022/10/26 11:00:15", "2022/10/26 11:00:18", "2022/10/26 11:00:22"]},
                    { "name": "Christina", 
                      "enterSec": "2022/10/26 11:00:03", 
                      "doneTime": ["2022/10/26 11:00:13", "2022/10/26 11:00:18", "2022/10/26 11:00:20", "2022/10/26 11:00:24"]},
                    { "name": "Daren",     
                      "enterSec": "2022/10/26 11:00:04", 
                      "doneTime": ["2022/10/26 11:00:12", "2022/10/26 11:00:19", "2022/10/26 11:00:24"]}
                   ];
            break;       
          case 25:
            data = [{ "name": "Amy",       
                      "enterSec": "2022/10/26 11:00:02", 
                      "doneTime": ["2022/10/26 11:00:07", "2022/10/26 11:00:12", "2022/10/26 11:00:17", "2022/10/26 11:00:18",
                                   "2022/10/26 11:00:20", "2022/10/26 11:00:22", "2022/10/26 11:00:25"]},
                    { "name": "Brian",     
                      "enterSec": "2022/10/26 11:00:03", 
                      "doneTime": ["2022/10/26 11:00:08", "2022/10/26 11:00:13", "2022/10/26 11:00:15", "2022/10/26 11:00:16",
                                   "2022/10/26 11:00:18", "2022/10/26 11:00:20", "2022/10/26 11:00:21", "2022/10/26 11:00:22"]},
                    { "name": "Eddie",     
                      "enterSec": "2022/10/26 11:00:03", 
                      "doneTime": ["2022/10/26 11:00:11", "2022/10/26 11:00:15", "2022/10/26 11:00:18", "2022/10/26 11:00:22"]},
                    { "name": "Christina", 
                      "enterSec": "2022/10/26 11:00:03", 
                      "doneTime": ["2022/10/26 11:00:13", "2022/10/26 11:00:18", "2022/10/26 11:00:20", "2022/10/26 11:00:24"]},
                    { "name": "Daren",     
                      "enterSec": "2022/10/26 11:00:04", 
                      "doneTime": ["2022/10/26 11:00:12", "2022/10/26 11:00:19", "2022/10/26 11:00:24", "2022/10/26 11:00:25"]}
                   ];
            break;      
          case 26:
            data = [{ "name": "Amy",       
                      "enterSec": "2022/10/26 11:00:02", 
                      "doneTime": ["2022/10/26 11:00:07", "2022/10/26 11:00:12", "2022/10/26 11:00:17", "2022/10/26 11:00:18",
                                   "2022/10/26 11:00:20", "2022/10/26 11:00:22", "2022/10/26 11:00:25", "2022/10/26 11:00:26"]},
                    { "name": "Brian",     
                      "enterSec": "2022/10/26 11:00:03", 
                      "doneTime": ["2022/10/26 11:00:08", "2022/10/26 11:00:13", "2022/10/26 11:00:15", "2022/10/26 11:00:16",
                                   "2022/10/26 11:00:18", "2022/10/26 11:00:20", "2022/10/26 11:00:21", "2022/10/26 11:00:22"]},
                    { "name": "Eddie",     
                      "enterSec": "2022/10/26 11:00:03", 
                      "doneTime": ["2022/10/26 11:00:11", "2022/10/26 11:00:15", "2022/10/26 11:00:18", "2022/10/26 11:00:22"]},
                    { "name": "Christina", 
                      "enterSec": "2022/10/26 11:00:03", 
                      "doneTime": ["2022/10/26 11:00:13", "2022/10/26 11:00:18", "2022/10/26 11:00:20", "2022/10/26 11:00:24",
                                   "2022/10/26 11:00:26"]},
                    { "name": "Daren",     
                      "enterSec": "2022/10/26 11:00:04", 
                      "doneTime": ["2022/10/26 11:00:12", "2022/10/26 11:00:19", "2022/10/26 11:00:24", "2022/10/26 11:00:25"]}
                   ];
            break;      
          case 27:
            data = [{ "name": "Amy",       
                      "enterSec": "2022/10/26 11:00:02", 
                      "doneTime": ["2022/10/26 11:00:07", "2022/10/26 11:00:12", "2022/10/26 11:00:17", "2022/10/26 11:00:18",
                                   "2022/10/26 11:00:20", "2022/10/26 11:00:22", "2022/10/26 11:00:25", "2022/10/26 11:00:26"]},
                    { "name": "Brian",     
                      "enterSec": "2022/10/26 11:00:03", 
                      "doneTime": ["2022/10/26 11:00:08", "2022/10/26 11:00:13", "2022/10/26 11:00:15", "2022/10/26 11:00:16",
                                   "2022/10/26 11:00:18", "2022/10/26 11:00:20", "2022/10/26 11:00:21", "2022/10/26 11:00:22"]},
                    { "name": "Eddie",     
                      "enterSec": "2022/10/26 11:00:03", 
                      "doneTime": ["2022/10/26 11:00:11", "2022/10/26 11:00:15", "2022/10/26 11:00:18", "2022/10/26 11:00:22",
                                   "2022/10/26 11:00:27"]},
                    { "name": "Christina", 
                      "enterSec": "2022/10/26 11:00:03", 
                      "doneTime": ["2022/10/26 11:00:13", "2022/10/26 11:00:18", "2022/10/26 11:00:20", "2022/10/26 11:00:24",
                                   "2022/10/26 11:00:26", "2022/10/26 11:00:27"]},
                    { "name": "Daren",     
                      "enterSec": "2022/10/26 11:00:04", 
                      "doneTime": ["2022/10/26 11:00:12", "2022/10/26 11:00:19", "2022/10/26 11:00:24", "2022/10/26 11:00:25",
                                   "2022/10/26 11:00:27"]}
                   ];
            break;      
          case 28:
            data = [{ "name": "Amy",       
                      "enterSec": "2022/10/26 11:00:02", 
                      "doneTime": ["2022/10/26 11:00:07", "2022/10/26 11:00:12", "2022/10/26 11:00:17", "2022/10/26 11:00:18",
                                   "2022/10/26 11:00:20", "2022/10/26 11:00:22", "2022/10/26 11:00:25", "2022/10/26 11:00:26"]},
                    { "name": "Brian",     
                      "enterSec": "2022/10/26 11:00:03", 
                      "doneTime": ["2022/10/26 11:00:08", "2022/10/26 11:00:13", "2022/10/26 11:00:15", "2022/10/26 11:00:16",
                                   "2022/10/26 11:00:18", "2022/10/26 11:00:20", "2022/10/26 11:00:21", "2022/10/26 11:00:22"]},
                    { "name": "Eddie",     
                      "enterSec": "2022/10/26 11:00:03", 
                      "doneTime": ["2022/10/26 11:00:11", "2022/10/26 11:00:15", "2022/10/26 11:00:18", "2022/10/26 11:00:22",
                                   "2022/10/26 11:00:27", "2022/10/26 11:00:28"]},
                    { "name": "Christina", 
                      "enterSec": "2022/10/26 11:00:03", 
                      "doneTime": ["2022/10/26 11:00:13", "2022/10/26 11:00:18", "2022/10/26 11:00:20", "2022/10/26 11:00:24",
                                   "2022/10/26 11:00:26", "2022/10/26 11:00:27", "2022/10/26 11:00:28"]},
                    { "name": "Daren",     
                      "enterSec": "2022/10/26 11:00:04", 
                      "doneTime": ["2022/10/26 11:00:12", "2022/10/26 11:00:19", "2022/10/26 11:00:24", "2022/10/26 11:00:25",
                                   "2022/10/26 11:00:27", "2022/10/26 11:00:28"]}
                   ];
            break;      
          case 29:
            data = [{ "name": "Amy",       
                      "enterSec": "2022/10/26 11:00:02", 
                      "doneTime": ["2022/10/26 11:00:07", "2022/10/26 11:00:12", "2022/10/26 11:00:17", "2022/10/26 11:00:18",
                                   "2022/10/26 11:00:20", "2022/10/26 11:00:22", "2022/10/26 11:00:25", "2022/10/26 11:00:26"]},
                    { "name": "Brian",     
                      "enterSec": "2022/10/26 11:00:03", 
                      "doneTime": ["2022/10/26 11:00:08", "2022/10/26 11:00:13", "2022/10/26 11:00:15", "2022/10/26 11:00:16",
                                   "2022/10/26 11:00:18", "2022/10/26 11:00:20", "2022/10/26 11:00:21", "2022/10/26 11:00:22"]},
                    { "name": "Eddie",     
                      "enterSec": "2022/10/26 11:00:03", 
                      "doneTime": ["2022/10/26 11:00:11", "2022/10/26 11:00:15", "2022/10/26 11:00:18", "2022/10/26 11:00:22",
                                   "2022/10/26 11:00:27", "2022/10/26 11:00:28", "2022/10/26 11:00:29"]},
                    { "name": "Christina", 
                      "enterSec": "2022/10/26 11:00:03", 
                      "doneTime": ["2022/10/26 11:00:13", "2022/10/26 11:00:18", "2022/10/26 11:00:20", "2022/10/26 11:00:24",
                                   "2022/10/26 11:00:26", "2022/10/26 11:00:27", "2022/10/26 11:00:28", "2022/10/26 11:00:29"]},
                    { "name": "Daren",     
                      "enterSec": "2022/10/26 11:00:04", 
                      "doneTime": ["2022/10/26 11:00:12", "2022/10/26 11:00:19", "2022/10/26 11:00:24", "2022/10/26 11:00:25",
                                   "2022/10/26 11:00:27", "2022/10/26 11:00:28", "2022/10/26 11:00:29"]}
                   ];
            break;    
          case 30:
            data = [{ "name": "Amy",       
                      "enterSec": "2022/10/26 11:00:02", 
                      "doneTime": ["2022/10/26 11:00:07", "2022/10/26 11:00:12", "2022/10/26 11:00:17", "2022/10/26 11:00:18",
                                   "2022/10/26 11:00:20", "2022/10/26 11:00:22", "2022/10/26 11:00:25", "2022/10/26 11:00:26"]},
                    { "name": "Brian",     
                      "enterSec": "2022/10/26 11:00:03", 
                      "doneTime": ["2022/10/26 11:00:08", "2022/10/26 11:00:13", "2022/10/26 11:00:15", "2022/10/26 11:00:16",
                                   "2022/10/26 11:00:18", "2022/10/26 11:00:20", "2022/10/26 11:00:21", "2022/10/26 11:00:22"]},
                    { "name": "Eddie",     
                      "enterSec": "2022/10/26 11:00:03", 
                      "doneTime": ["2022/10/26 11:00:11", "2022/10/26 11:00:15", "2022/10/26 11:00:18", "2022/10/26 11:00:22",
                                   "2022/10/26 11:00:27", "2022/10/26 11:00:28", "2022/10/26 11:00:29", "2022/10/26 11:00:30"]},
                    { "name": "Christina", 
                      "enterSec": "2022/10/26 11:00:03", 
                      "doneTime": ["2022/10/26 11:00:13", "2022/10/26 11:00:18", "2022/10/26 11:00:20", "2022/10/26 11:00:24",
                                   "2022/10/26 11:00:26", "2022/10/26 11:00:27", "2022/10/26 11:00:28", "2022/10/26 11:00:29"]},
                    { "name": "Daren",     
                      "enterSec": "2022/10/26 11:00:04", 
                      "doneTime": ["2022/10/26 11:00:12", "2022/10/26 11:00:19", "2022/10/26 11:00:24", "2022/10/26 11:00:25",
                                   "2022/10/26 11:00:27", "2022/10/26 11:00:28", "2022/10/26 11:00:29", "2022/10/26 11:00:30"]}
                   ];
            break;    
        }
        
        data.sort(function (a, b) {
            if( a.doneTime.length == dataTopic.length && b.doneTime.length == dataTopic.length ){
                return (new Date(a.doneTime[a.doneTime.length - 1]) - new Date(a.enterSec)) - 
                       (new Date(b.doneTime[b.doneTime.length - 1]) - new Date(b.enterSec));//依作答花費時間排序   
            }else{
                return b.doneTime.length - a.doneTime.length;//依完成題數排序    
            }
        });

        getData(data);
        joinNum(data);
        doneNum(data); 
        
        if (i == 31) {
            clearInterval(interval);
        }
    }, 1000);
} 
   
//顯示長條圖   
function getData(data){
    let html = '', 
        css  = '';
    
    //remove Bootstrap tooltip
    for (const el of [...document.querySelectorAll('.tooltip')]) {
      el.remove();
    }
    
    for( let i = 0; i < data.length; i++ ){
        //進度百分比
        let progressPercentage = data[i].doneTime.length/dataTopic.length*100;
        
        //完成顯示學生花費時間
        if(data[i].doneTime.length == dataTopic.length){
            css = '';   
        }else{
            css = 'display: none;';
        }
        
        let j = data[i].doneTime.length - 1;
        
        let startTime = data[i].enterSec,     //開始作答時間
            endTime   = data[i].doneTime[j];  //最後一題完成時間

        //產生html
        html += `<div class="row align-items-center CA-ranking-item">
                  <div class="col-12 col-md-3">
                    <div class="contestant text-center text-md-end overflow-hidden text-truncate">
                      <div class="avater">
                        <img src="../../Content/images/classActivity/avatar/avatar_`+findAvater(dataAvater, data[i].name)+`.png" alt=""/>
                      </div>
                      ` + data[i].name + `
                    </div>
                  </div>
                  <div class="col-12 col-md-6 px-md-0 my-1">
                    <div class="progress rounded-pill">
                      <div class="progress-bar bg-cyan" role="progressbar" data-bs-toggle="tooltip" data-bs-placement="top" data-bs-title="作答進度" style="width: `+ progressPercentage + `%" aria-valuenow="`+ progressPercentage + `" aria-valuemin="0" aria-valuemax="100">`+ progressPercentage + `%</div>
                    </div>
                  </div>
                  <div class="col-12 col-md-3 text-center text-md-start"><span data-bs-toggle="tooltip" data-bs-placement="top" data-bs-title="作答時長"  style="` + css + `"><i class="far fa-clock text-cyan"></i><span class="mx-1 text-cyan fw-bold">` + countDiff(startTime , endTime) + `</span></span></div>
                </div>`;
    }

    document.querySelector('#STU_ANS').innerHTML = html;
    
    //call Bootstrap tooltip  
    let tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'));
    let tooltipList = tooltipTriggerList.map(function (tooltipTriggerEl) {
        return new bootstrap.Tooltip(tooltipTriggerEl)
    });
} 
    
//時間差
function countDiff(date1, date2) { 
    let oDate1 = new Date(date1),
        oDate2 = new Date(date2);

    let diffMilli = oDate2 - oDate1; //相差的毫秒數
    
    let hour = Math.floor(diffMilli/1000/60/60)>=10 ?  Math.floor(diffMilli/1000/60/60) : '0'+Math.floor(diffMilli/1000/60/60);
    let min  = Math.floor(diffMilli/1000/60)   >=10 ?  Math.floor(diffMilli/1000/60)    : '0'+Math.floor(diffMilli/1000/60);
    let sec  = Math.floor(diffMilli/1000)      >=10 ?  Math.floor(diffMilli/1000)       : '0'+Math.floor(diffMilli/1000);
  
    return hour + ":" + min + ":" + sec;
}    

//參加人數
function joinNum(data){
    document.querySelector('#JOINNUM').innerHTML = data.length; 
}
    
//完成人數    
function doneNum(data){
    let n= 0;
    let bars = document.querySelectorAll('.progress-bar');
    bars.forEach(bar => {
      if (bar.style.width === '100%') {
        n++;
      }
    });
    
    document.querySelector('#DONENUM').innerHTML = n;
    
    //完成後給予排名獎章
    if( n!=0 &&  n==data.length ){
        document.querySelector('.CA-ranking-item:nth-child(1) .contestant').classList.add('medal-no1');
        document.querySelector('.CA-ranking-item:nth-child(2) .contestant').classList.add('medal-no2');
        //document.querySelector('.contestant:nth-child(3)').classList.add('medal-no3');
    }
}
    
    
//[結束活動] 
let ENDACTIVITY =  document.querySelector('#ENDACTIVITY'); 
ENDACTIVITY.addEventListener('click', ()=>{
    if ( confirm('是否關閉此活動？\n(若學生還在作答，教師關閉後也將停止學生活動。)') ){ 
        window.location = 'close.html';
    }
});  
    
//隨機數字 
function getRandomNumber(min, max) {
  return Math.floor(Math.random() * (max - min + 1)) + min;
}   
    
//找出對應頭像(頭像應為學生一進入遊戲時隨機給予一個)
function findAvater(arr, name) {
  for (let i = 0; i < arr.length; i++) {
    if (arr[i].user === name) {
      return arr[i].avater;
    }
  }
  return "1"; 
}    
</script>
</body>
</html>
