<!doctype html>
<html lang="zh-tw">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="eMPOWER華語文字詞句教學平台">
<meta name="author" content="eMPOWER華語文字詞句教學平台">
<title>eMPOWER華語文字詞句教學平台</title>
<link rel="shortcut icon" type="image/x-icon" href="../Content/images/eMPOWER.ico">
<link rel="stylesheet" type="text/css" href="../Content/css/bootstrap-lg.min.css">
<link rel="stylesheet" type="text/css" href="../Content/css/ie10-viewport-bug-workaround.css">
<link rel="stylesheet" type="text/css" href="../Content/widgets/fontawesome-free-5.15.3-web/css/all.css">

<!-- this page widgets CSS --> 

<!-- my core CSS -->
<link rel="stylesheet" type="text/css" href="../Content/css/eMPOWERstyles.css">
<link rel="stylesheet" type="text/css" href="../Content/css/smartChinese.css">
<link rel="stylesheet" type="text/css" href="../Content/css/smartChinese_pages.css">
</head>

<body>
<header>
  <nav class="navbar navi-main navbar-fixed-top">
    <div class="container-fluid">
      <div class="row">
        <div class="col-xs-12">
          <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar"> <span class="sr-only">展開上方主選單</span> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span> </button>
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#sidebar" aria-expanded="false" aria-controls="sidebar"> <span class="sr-only">展開左側選單</span> <i class="fas fa-chevron-right"></i><i class="fas fa-chevron-left"></i></button>
            <a class="navbar-brand" href="#"> <img src="../Content/images/eMPOWER-img.svg" alt="eMPOWER華語文字詞句教學平台" class="img-responsive"> </a>
            <h1>eMPOWER華語文字詞句教學平台</h1>
          </div>
          <div id="navbar" class="navbar-collapse collapse">
            <ul class="nav navbar-nav">
              <li class="navTab-Tindex"><a href="Tindex.html">首頁</a></li>
              <li class="navTab-smartChinese"><a href="smartChinese.html">全方位中文系列</a></li>
              <li class="navTab-chineseSeries"><a href="chineseSeries.html">教材資源區</a></li>
              <li class="navTab-customized"><a href="customized.html">建立自編教材</a></li>
              <li class="navTab-myLibs"><a href="myLibs.html">我的教材庫</a></li>
              <li class="navTab-classMgt dropdown"> <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">班級管理&nbsp;<span class="caret"></span></a>
                <ul class="dropdown-menu">
                  <li><a href="classMgt__students.html">學生名單</a></li>
                  <li><a href="classMgt__groups.html">指派教材</a></li>
                  <li><a href="classMgt__learning.html">學習紀錄</a></li>
                  <li><a href="classMgt__score.html">評量結果</a></li>
                </ul>
              </li>
            </ul>
            <ul class="nav navbar-nav navbar-right">
              <li class="dropdown"><a class="navi-main__loginedBtn" data-target="#" href="#" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">你好，張花花！</a>
                <ul class="dropdown-menu navi-main__userMenu">
                  <li><a href="../index.html" class="btn navi-main__logoutBtn">登出</a></li>
                </ul>
              </li>
              <li class="dropdown"><a class="navi-main__languageBtn" data-target="#" href="#" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">中文(正體)&nbsp;<span class="caret"></span></a>
                <ul class="dropdown-menu navi-main__languageMenu">
                  <li><a href="" check="checked"><span class="language-icon"><span class="glyphicon glyphicon-ok" aria-hidden="true"></span></span>&nbsp;中文(正體)</a></li>
                  <li><a href=""><span class="language-icon"><span class="glyphicon glyphicon-ok" aria-hidden="true"></span></span>&nbsp;中文(简体)</a></li>
                  <li><a href=""><span class="language-icon"><span class="glyphicon glyphicon-ok" aria-hidden="true"></span></span>&nbsp;English(United States)</a></li>
                </ul>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </nav>
</header>
<!-- ------- ------- ------- ------- ------- ------- ------- -->
<main> 
  <!-- page-banner start -->
  <div class="page-banner smartChinese">
    <div class="container-fluid">
      <div class="page-banner__text">
        <div class="row">
          <div class="col-xs-12">
            <h2 class="smartChinese-logo"> <img src="../Content/images/smartChinese/logo-cn.svg" alt="全方位中文" class="logo-cn"> <span> <img src="../Content/images/smartChinese/logo-en.svg" alt="Smart Chinese" class="logo-en"><img src="../Content/images/smartChinese/logo-en-all.svg" alt="Smart Methods for the Adaptive and Responsive Teaching of Chinese" class="logo-en-all"></span></h2>
          </div>
        </div>
      </div>
    </div>
  </div>
  <!-- page-banner end --> 
  
  <!-- 課程試卷 start -->
  <div class="container-fluid">
    <div class="row">
      <div class="col-xs-12 col-lg-12 col-xl-10 col-xl-offset-1">
        <h2 class="base-h2">課程試卷<small></small></h2>
        <!--search-panel start-->
        <div class="function-panel">
          <a href="../TEACHER/myLibs__content.aspx?uid=" id="a_back" class="btn btn-main-blue">回目錄</a> <a href="smartChinese__test.html" class="btn btn-main-blue">線上測驗管理</a>
        </div>
        <!--search-panel end--> 
        
        <!--function-panel start-->
        <div id="div_level" class="search-panel">
          <a href="javascript:void(0)" class="btn btn-main-blue" id="book1" value="1">第一冊</a>&nbsp;<a href="javascript:void(0)" class="btn btn-main-blue-white" id="book2" value="2">第二冊</a>&nbsp;
        </div>
        <!--function-panel end--> 
        
        <!--table start-->
        <table id="SC-test-table" class="table table-hover table-style-default table-bordered bg-white">
          <thead>
            <tr class="bg-gray">
              <th>版本</th>
              <th>測驗類別</th>
              <th>說明</th>
              <th>測驗形式</th>
            </tr>
          </thead>
          <tbody id="tbody_list">
            <tr papersn="23">
              <td class="td-version" data-th="版本：">繁體</td>
              <td class="td-type" data-th="測驗類別：">單元測驗</td>
              <td class="td-direction" data-th="說明：">全方位中文1	 第一課 隨堂測驗一 </td>
              <td class="td-format" data-th="測驗形式："><a>線上測驗</a></td>
            </tr>
            <tr papersn="29">
              <td class="td-version" data-th="版本：">繁體</td>
              <td class="td-type" data-th="測驗類別：">單元測驗</td>
              <td class="td-direction" data-th="說明：">全方位中文1	 第一課 隨堂測驗二 </td>
              <td class="td-format" data-th="測驗形式："><a>線上測驗</a></td>
            </tr>
            <tr papersn="32">
              <td class="td-version" data-th="版本：">繁體</td>
              <td class="td-type" data-th="測驗類別：">單元測驗</td>
              <td class="td-direction" data-th="說明：">全方位中文1	 第一課 隨堂測驗三 </td>
              <td class="td-format" data-th="測驗形式："><a>線上測驗</a></td>
            </tr>
            <tr papersn="10">
              <td class="td-version" data-th="版本：">繁體</td>
              <td class="td-type" data-th="測驗類別：">單元測驗</td>
              <td class="td-direction" data-th="說明：">全方位中文1	 第七課 隨堂測驗一</td>
              <td class="td-format" data-th="測驗形式："><a>線上測驗</a></td>
            </tr>
            <tr papersn="15">
              <td class="td-version" data-th="版本：">繁體</td>
              <td class="td-type" data-th="測驗類別：">單元測驗</td>
              <td class="td-direction" data-th="說明：">全方位中文1 第七課 隨堂測驗二</td>
              <td class="td-format" data-th="測驗形式："><a>線上測驗</a></td>
            </tr>
            <tr papersn="14">
              <td class="td-version" data-th="版本：">繁體</td>
              <td class="td-type" data-th="測驗類別：">單元測驗</td>
              <td class="td-direction" data-th="說明：">全方位中文1 第七課 隨堂測驗三</td>
              <td class="td-format" data-th="測驗形式："><a>線上測驗</a></td>
            </tr>
            <tr papersn="4">
              <td class="td-version" data-th="版本：">繁體</td>
              <td class="td-type" data-th="測驗類別：">單元測驗</td>
              <td class="td-direction" data-th="說明：">全方位中文1 第九課 隨堂測驗一</td>
              <td class="td-format" data-th="測驗形式："><a>線上測驗</a></td>
            </tr>
            <tr papersn="5">
              <td class="td-version" data-th="版本：">繁體</td>
              <td class="td-type" data-th="測驗類別：">單元測驗</td>
              <td class="td-direction" data-th="說明：">全方位中文1 第九課 隨堂測驗二</td>
              <td class="td-format" data-th="測驗形式："><a>線上測驗</a></td>
            </tr>
            <tr papersn="12">
              <td class="td-version" data-th="版本：">繁體</td>
              <td class="td-type" data-th="測驗類別：">單元測驗</td>
              <td class="td-direction" data-th="說明：">全方位中文1 第九課 隨堂測驗三</td>
              <td class="td-format" data-th="測驗形式："><a>線上測驗</a></td>
            </tr>
            <tr papersn="30">
              <td class="td-version" data-th="版本：">繁體</td>
              <td class="td-type" data-th="測驗類別：">單元測驗</td>
              <td class="td-direction" data-th="說明：">全方位中文1	 第二課 隨堂測驗一 </td>
              <td class="td-format" data-th="測驗形式："><a>線上測驗</a></td>
            </tr>
          </tbody>
        </table>
        <!--table end--> 
        
        <!-- 頁碼 start -->
        <div id="div_page" class="text-center my-5" aria-label="Page navigation">
          <ul class="pagination em-pagination flex-center">
            <li><a class="disabled" href="javascript:void(0)" onclick="toPrePage()">&lt;</a></li>
            <li><span class="form-inline">
              <input id="Text_page" type="text" class="form-control noRadius sc-pagination-input" value="1" style="width: 3rem;">
              /<label id="label_pageTotal" class="mx-1 sc-pagination-total">3</label></span></li>
            <li><a class="" href="javascript:void(0)" onclick="toNextPage()">&gt;</a></li>
          </ul>
        </div>
        <!-- 頁碼 end -->
      </div>
    </div>
  </div>
  <!-- 課程試卷 end --> 
</main>

<!-- Modal#sessionModal start -->
<div class="modal fade sessionModal" id="sessionModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" style="display: none;">
  <div class="modal-dialog" role="document">
    <div class="modal-content noRadius">
      <form id="formTest" action="javascript: SetTest();">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>
          <h4 class="modal-title">建立場次</h4>
        </div>
        <div class="modal-body">
          <div class="form-horizontal form-style-2">
            <div class="form-group">
              <label for="Text_paper" class="col-sm-3 control-label pr-sm-0"><span class="text-red">*</span>測驗題本</label>
              <div class="col-sm-8">
                <input id="Text_paper" name="Text_paper" type="text" class="form-control" disabled="">
              </div>
            </div>
            <div class="form-group">
              <label for="Drop_group" class="col-sm-3 control-label pr-sm-0"><span class="text-red">*</span>測驗班級</label>
              <div class="col-sm-8">
                <select id="Drop_group" name="Drop_group" class="form-control" required="required">
                  <option value="">請選擇</option>
                  <option value="YF測試班">YF測試班</option>
                </select>
              </div>
            </div>
            <div class="form-group">
              <label for="" class="col-sm-3 control-label pr-sm-0"><span class="text-red">*</span>學生人數</label>
              <div class="col-sm-8 pt-1">
                <span id="stuNum" class="mr-1 text-red">0</span>人
                <button type="button" class="btn btn-main-blue btn-xs mx-1" onClick="SetStu()">設定學生</button>
              </div>
            </div>
            <div class="form-group">
              <label for="program-name" class="col-sm-3 control-label pr-sm-0"><span class="text-red">*</span>開始時間</label>
              <div class="col-sm-4 mb-1 mb-sm-0 pr-sm-0">
                <input id="Text_startDate" name="Text_startDate" type="date" class="form-control" required="required">
              </div>
              <div class="col-sm-4">
                <input id="Text_startTime" name="Text_startDate" type="time"  class="form-control" required="required">
              </div>
            </div>
            <div class="form-group">
              <label for="program-name" class="col-sm-3 control-label pr-sm-0"><span class="text-red">*</span>結束時間</label>
              <div class="col-sm-4 mb-1 mb-sm-0 pr-sm-0">
                <input id="Text_endDate" name="Text_endDate" type="date" class="form-control" required="required">
              </div>
              <div class="col-sm-4">
                <input id="Text_endTime" name="Text_endDate" type="time" class="form-control" required="required">
              </div>
            </div>
          </div>
        </div>
        <div class="modal-footer">
          <div class="text-center">
            <button id="CANCEL" type="reset" class="btn btn-main-blue-white btn-lg" data-dismiss="modal">取消</button>
            <button id="OK" type="submit" class="btn btn-main-blue btn-lg">確定</button>
          </div>
        </div>
      </form>
    </div>
  </div>
</div>
<!-- Modal#sessionModal end --> 

<!-- Modal#setStuModal start -->
<div class="modal fade setStuModal" id="setStuModal" tabindex="-1" role="dialog" data-backdrop="static" data-keyboard="false">
  <div class="modal-dialog modal-lg" role="document">
    <div class="modal-content noRadius">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title">設定學生</h4>
      </div>
      <div class="modal-body">
        <div class="panel-group panel-group-checkbox" id="accordion" role="tablist" aria-multiselectable="true">
          <div class="panel panel-default checkbox-parent">
            <div class="panel-heading" role="tab" id="headingOne">
              <h4 class="panel-title">
                <div class="checkbox icheck-main-blue checkbox-inline">
                  <input type="checkbox" id="A01" name="checkAll">
                  <label for="A01">班級名稱 A</label>
                </div></h4>
            </div>
            <div id="collapseOne" class="panel-collapse checkbox-children" role="tabpanel">
              <div class="panel-body">
                <table class="table table-bordered">
                  <tbody>
                    <tr>
                      <td><div class="checkbox icheck-main-blue checkbox-inline">
                          <input type="checkbox" id="A01s1">
                          <label for="A01s1">學生姓名</label>
                        </div></td>
                      <td><div class="checkbox icheck-main-blue checkbox-inline">
                          <input type="checkbox" id="A01s2">
                          <label for="A01s2">學生姓名</label>
                        </div></td>
                    </tr>
                    <tr>
                      <td><div class="checkbox icheck-main-blue checkbox-inline">
                          <input type="checkbox" id="A01s3">
                          <label for="A01s3">學生姓名</label>
                        </div></td>
                      <td><div class="checkbox icheck-main-blue checkbox-inline">
                          <input type="checkbox" id="A01s4">
                          <label for="A01s4">學生姓名</label>
                        </div></td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <div class="text-center">
          <button type="button" class="btn btn-main-blue-white" data-dismiss="modal" id="setStuModal-cancel">取消</button>
          <button type="button" class="btn btn-main-blue" data-dismiss="modal" id="setStuModal-ok">確定</button>
        </div>
      </div>
    </div>
  </div>
</div>
<!-- Modal#setStuModal end --> 

<!-- ------- ------- ------- ------- ------- ------- ------- -->
<footer class="footer"> </footer>
<!-- ------- ------- ------- ------- ------- ------- ------- --> 
<!-- ------- ------- ------- ------- ------- ------- ------- --> 
<!-- ------- ------- ------- ------- ------- ------- ------- --> 
<script src="../Script/jquery.min.js"></script> 
<script src="../Script/bootstrap.min.js"></script> 
<script src="../Script/ie10-viewport-bug-workaround.js"></script> 
<!-- widgets js --> 
<script src="../Content/js/doubleScorollbar.js"></script> 
<script>
$(document).ready(function() {
	//nowPage 
	$('.navTab-smartChinese').addClass('active');
	
    //[線上測驗]
    $('#SC-test-table .td-format a:not([download])').click(function (e) { 
        $('#sessionModal').modal('show');   
        
        let version = $(this).parents('tr').find('.td-version').text();
        let direction = $(this).parents('tr').find('.td-direction').text();
        $('#Text_paper').val( version + ' ' + direction )
    });
    
    //預設[設定學生]disabled 並加tooltip提示
    $('[onclick*="SetStu"]').prop('disabled', true).tooltip({
        placement: 'right',
        title: '請先選擇測驗班級'
    });
    
    //選擇 測驗班級 後，[設定學生]enabled
    $('#Drop_group').change(function(){
        if( $(this).val() != '' ){
            $('[onclick*="SetStu"]').prop('disabled', false).tooltip('destroy'); 
            
            //do soething...(載入 設定學生名單)
            $('#headingOne label').text($(this).val());
        }
    });
   
    //選擇學生
    checkboxFun();    
    function checkboxFun(){
        //全選
        $('input[name="checkAll"]').change(function(){ 
            var parents = $(this).closest('.checkbox-parent');
            var children = parents.find('.checkbox-children');

            var allBox = children.find('input[type="checkbox"]:checkbox');
            $(this).is(':checked') ? allBox.prop('indeterminate', false) : allBox.prop('indeterminate', false);
            $(this).is(':checked') ? allBox.prop('checked', true) : allBox.prop('checked', false);
        }); 

        //反選
        $('input[type="checkbox"]:not([name="checkAll"])').change(function(){  
            var parents = $(this).closest('.checkbox-parent');
            var children = parents.find('.checkbox-children');
                                                                             
            var allBox = children.find('input[type="checkbox"]:checkbox');  
            var checkedBox = children.find('input[type="checkbox"]:checked');  
            var targetBox = parents.find('input[name="checkAll"]:checkbox');  
            
            if ( checkedBox.length === allBox.length ) {
                targetBox.prop({
                    indeterminate: false,
                    checked: true
                });
            } else if ( checkedBox.length === 0 ){
                targetBox.prop({
                    indeterminate: false,
                    checked: false
                });
            } else {
                targetBox.prop({
                    indeterminate: true,
                    checked: false
                });
            }
        });
    }  
    
    //[線上測驗] > [設定學生] > 選擇學生 > [確定] 顯示人數
    $('#setStuModal-ok').click(function(){  
        let checkStu = $('#setStuModal').find('input[type="checkbox"]:not([name="checkAll"]):checked').length;
        
        $('#stuNum').text(checkStu);    
    });
});
    
//[線上測驗] > [設定學生]
function SetStu(){
    $('#setStuModal').modal('show');      
}    
</script>
</body>
</html>
