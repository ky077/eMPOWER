<!doctype html>
<html lang="zh-tw">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="eMPOWER華語文字詞句教學平台">
<meta name="author" content="eMPOWER華語文字詞句教學平台">
<title>聽打練習 | eMPOWER華語文字詞句教學平台</title>
<link rel="shortcut icon" type="image/x-icon" href="../../Content/images/eMPOWER.ico">
<link rel="stylesheet" type="text/css" href="../../Content/css/bootstrap_custom.css">
<link rel="stylesheet" type="text/css" href="../../Content/widgets/fontawesome-free-5.15.3-web/css/all.css">
<!-- core CSS -->
<link rel="stylesheet" type="text/css" href="../../Content/css/CA.css">
</head>

<body>
<div class="container-fluid CA-block CA-listen">
  <div class="row">
    <div class="col-lg-8 bg-pure order-2 order-lg-1"> 
      <!-- -->
      <div class="row h-100 align-items-center CA-listen__wrap"> 
        <!-- 頭像&時間 start -->
        <div class="" id="S_HEADER">
          <div class="contestant STEP0 STEP1 STEP2">
            <div class="avater"><img src="../../Content/images/classActivity/avatar/avatar_1.png" alt=""/></div>
            Amy</div>
          <div class="STEP2 text-center" style="display: none;"> <span class="text-cyan">花費時間</span><br>
            <span class="bg-cyan text-white px-3 mt-3 rounded-3 fs-3">00:08 </span></div>
          <div class="Swaiting text-center text-muted fs-6 mt-3 STEP0 STEP2" style="display: none;">等待下一題</div>
        </div>
        <!-- 頭像&時間  end  --> 
        <!-- 題目填答區 start -->
        <div class="col-12 col-lg-10 mx-auto pe-5 py-5 STEP1">
          <div class="d-flex align-items-center mb-5"><span class="CA-listen__num"><label>1</label>.</span>
            <input type="text" class="form-control form-control-lg rounded-0 CA-listen__input" id="INPUT" placeholder="輸入你聽到的中文詞彙。">
          </div>
        </div>
        <!-- 題目填答區  end  --> 
        <!-- 總排名 start -->
        <div class="CA-listen__final STEP3" style="display: none;">
          <div class="row h-100 justify-content-center align-content-center py-5">
            <h2 class="text-center h5 mb-4">總排名</h2>
            <div class="w-100"></div>
            <div class="col-12 col-xxl-11 mx-auto">
              <div class="CA-ranking">
                <div class="row align-items-center CA-ranking-item">
                  <div class="col-12 col-md-3">
                    <div class="contestant text-center text-md-end overflow-hidden text-truncate">
                      <div class="avater"><img src="../../Content/images/classActivity/avatar/avatar_1.png" alt=""/></div>
                      AmyAmyAmyAmyAmyAmyAmyAmyAmyAmy</div>
                  </div>
                  <div class="col-12 col-md-6 px-md-0 my-1">
                    <div class="progress rounded-pill">
                      <div class="progress-bar bg-cyan" role="progressbar" style="width: 100%" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100" data-bs-toggle="tooltip" data-bs-placement="top" data-bs-title="作答完成度">100%</div>
                    </div>
                  </div>
                  <div class="col-12 col-md-3 text-center text-md-start"><span data-bs-toggle="tooltip" data-bs-placement="top" data-bs-title="作答時長" style=""><i class="far fa-clock text-cyan"></i><span class="mx-1 text-cyan fw-bold">00:01:05</span></span></div>
                </div>
                <div class="row align-items-center CA-ranking-item">
                  <div class="col-12 col-md-3">
                    <div class="contestant text-center text-md-end overflow-hidden text-truncate">
                      <div class="avater"><img src="../../Content/images/classActivity/avatar/avatar_21.png" alt=""/></div>
                      Cathy</div>
                  </div>
                  <div class="col-12 col-md-6 px-md-0 my-1">
                    <div class="progress rounded-pill">
                      <div class="progress-bar bg-cyan" role="progressbar" style="width: 100%" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100" data-bs-toggle="tooltip" data-bs-placement="top" data-bs-title="作答完成度">100%</div>
                    </div>
                  </div>
                  <div class="col-12 col-md-3 text-center text-md-start"><span data-bs-toggle="tooltip" data-bs-placement="top" data-bs-title="作答時長"><i class="far fa-clock text-cyan"></i><span class="mx-1 text-cyan fw-bold">00:01:13</span></span></div>
                </div>
                <div class="row align-items-center CA-ranking-item">
                  <div class="col-12 col-md-3">
                    <div class="contestant text-center text-md-end overflow-hidden text-truncate">
                      <div class="avater"><img src="../../Content/images/classActivity/avatar/avatar_15.png" alt=""/></div>
                      Brain</div>
                  </div>
                  <div class="col-12 col-md-6 px-md-0 my-1">
                    <div class="progress rounded-pill">
                      <div class="progress-bar bg-cyan" role="progressbar" style="width: 100%" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100" data-bs-toggle="tooltip" data-bs-placement="top" data-bs-title="作答完成度">100%</div>
                    </div>
                  </div>
                  <div class="col-12 col-md-3 text-center text-md-start"><span data-bs-toggle="tooltip" data-bs-placement="top" data-bs-title="作答時長"><i class="far fa-clock text-cyan"></i><span class="mx-1 text-cyan fw-bold">00:01:23</span></span></div>
                </div>
                <div class="row align-items-center CA-ranking-item">
                  <div class="col-12 col-md-3">
                    <div class="contestant text-center text-md-end overflow-hidden text-truncate">
                      <div class="avater"><img src="../../Content/images/classActivity/avatar/avatar_33.png" alt=""/></div>
                      Daren D. Daren</div>
                  </div>
                  <div class="col-12 col-md-6 px-md-0 my-1">
                    <div class="progress rounded-pill">
                      <div class="progress-bar bg-cyan" role="progressbar" style="width: 100%" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100" data-bs-toggle="tooltip" data-bs-placement="top" data-bs-title="作答完成度">100%</div>
                    </div>
                  </div>
                  <div class="col-12 col-md-3 text-center text-md-start"><span data-bs-toggle="tooltip" data-bs-placement="top" data-bs-title="作答時長"><i class="far fa-clock text-cyan"></i><span class="mx-1 text-cyan fw-bold">00:01:25</span></span></div>
                </div>
                <div class="row align-items-center CA-ranking-item">
                  <div class="col-12 col-md-3">
                    <div class="contestant text-center text-md-end overflow-hidden text-truncate">
                      <div class="avater"><img src="../../Content/images/classActivity/avatar/avatar_12.png" alt=""/></div>
                      Christina</div>
                  </div>
                  <div class="col-12 col-md-6 px-md-0 my-1">
                    <div class="progress rounded-pill">
                      <div class="progress-bar bg-cyan" role="progressbar" style="width: 100%" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100" data-bs-toggle="tooltip" data-bs-placement="top" data-bs-title="作答完成度">100%</div>
                    </div>
                  </div>
                  <div class="col-12 col-md-3 text-center text-md-start"><span data-bs-toggle="tooltip" data-bs-placement="top" data-bs-title="作答時長"><i class="far fa-clock text-cyan"></i><span class="mx-1 text-cyan fw-bold">00:01:33</span></span></div>
                </div>
                <div class="row align-items-center CA-ranking-item">
                  <div class="col-12 col-md-3">
                    <div class="contestant text-center text-md-end overflow-hidden text-truncate">
                      <div class="avater"><img src="../../Content/images/classActivity/avatar/avatar_7.png" alt=""/></div>
                      Eddie</div>
                  </div>
                  <div class="col-12 col-md-6 px-md-0 my-1">
                    <div class="progress rounded-pill">
                      <div class="progress-bar bg-cyan" role="progressbar" style="width: 100%" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100" data-bs-toggle="tooltip" data-bs-placement="top" data-bs-title="作答完成度">100%</div>
                    </div>
                  </div>
                  <div class="col-12 col-md-3 text-center text-md-start"><span data-bs-toggle="tooltip" data-bs-placement="top" data-bs-title="作答時長"><i class="far fa-clock text-cyan"></i><span class="mx-1 text-cyan fw-bold">00:01:43</span></span></div>
                </div>
                <div class="row align-items-center CA-ranking-item">
                  <div class="col-12 col-md-3">
                    <div class="contestant text-center text-md-end overflow-hidden text-truncate">
                      <div class="avater"><img src="../../Content/images/classActivity/avatar/avatar_48.png" alt=""/></div>
                      Zoe</div>
                  </div>
                  <div class="col-12 col-md-6 px-md-0 my-1">
                    <div class="progress rounded-pill">
                      <div class="progress-bar bg-cyan" role="progressbar" style="width: 100%" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100" data-bs-toggle="tooltip" data-bs-placement="top" data-bs-title="作答完成度">100%</div>
                    </div>
                  </div>
                  <div class="col-12 col-md-3 text-center text-md-start"><span data-bs-toggle="tooltip" data-bs-placement="top" data-bs-title="作答時長"><i class="far fa-clock text-cyan"></i><span class="mx-1 text-cyan fw-bold">00:01:53</span></span></div>
                </div>
                <div class="row align-items-center CA-ranking-item">
                  <div class="col-12 col-md-3">
                    <div class="contestant text-center text-md-end overflow-hidden text-truncate">
                      <div class="avater"><img src="../../Content/images/classActivity/avatar/avatar_56.png" alt=""/></div>
                      Bob</div>
                  </div>
                  <div class="col-12 col-md-6 px-md-0 my-1">
                    <div class="progress rounded-pill">
                      <div class="progress-bar bg-cyan" role="progressbar" style="width: 100%" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100" data-bs-toggle="tooltip" data-bs-placement="top" data-bs-title="作答完成度">100%</div>
                    </div>
                  </div>
                  <div class="col-12 col-md-3 text-center text-md-start"><span data-bs-toggle="tooltip" data-bs-placement="top" data-bs-title="作答時長"><i class="far fa-clock text-cyan"></i><span class="mx-1 text-cyan fw-bold">00:00:13</span></span></div>
                </div>
                <div class="row align-items-center CA-ranking-item">
                  <div class="col-12 col-md-3">
                    <div class="contestant text-center text-md-end overflow-hidden text-truncate">
                      <div class="avater"><img src="../../Content/images/classActivity/avatar/avatar_25.png" alt=""/></div>
                      John</div>
                  </div>
                  <div class="col-12 col-md-6 px-md-0 my-1">
                    <div class="progress rounded-pill">
                      <div class="progress-bar bg-cyan" role="progressbar" style="width: 100%" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100" data-bs-toggle="tooltip" data-bs-placement="top" data-bs-title="作答完成度">100%</div>
                    </div>
                  </div>
                  <div class="col-12 col-md-3 text-center text-md-start"><span data-bs-toggle="tooltip" data-bs-placement="top" data-bs-title="作答時長"><i class="far fa-clock text-cyan"></i><span class="mx-1 text-cyan fw-bold">00:02:23</span></span></div>
                </div>
                <div class="row align-items-center CA-ranking-item">
                  <div class="col-12 col-md-3">
                    <div class="contestant text-center text-md-end overflow-hidden text-truncate">
                      <div class="avater"><img src="../../Content/images/classActivity/avatar/avatar_48.png" alt=""/></div>
                      Alex</div>
                  </div>
                  <div class="col-12 col-md-6 px-md-0 my-1">
                    <div class="progress rounded-pill">
                      <div class="progress-bar bg-cyan" role="progressbar" style="width: 100%" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100" data-bs-toggle="tooltip" data-bs-placement="top" data-bs-title="作答完成度">100%</div>
                    </div>
                  </div>
                  <div class="col-12 col-md-3 text-center text-md-start"><span data-bs-toggle="tooltip" data-bs-placement="top" data-bs-title="作答時長"><i class="far fa-clock text-cyan"></i><span class="mx-1 text-cyan fw-bold">00:02:33</span></span></div>
                </div>
                <div class="row align-items-center CA-ranking-item">
                  <div class="col-12 col-md-3">
                    <div class="contestant text-center text-md-end overflow-hidden text-truncate">
                      <div class="avater"><img src="../../Content/images/classActivity/avatar/avatar_46.png" alt=""/></div>
                      Natividad</div>
                  </div>
                  <div class="col-12 col-md-6 px-md-0 my-1">
                    <div class="progress rounded-pill">
                      <div class="progress-bar bg-cyan" role="progressbar" style="width: 100%" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100" data-bs-toggle="tooltip" data-bs-placement="top" data-bs-title="作答完成度">100%</div>
                    </div>
                  </div>
                  <div class="col-12 col-md-3 text-center text-md-start"><span data-bs-toggle="tooltip" data-bs-placement="top" data-bs-title="作答時長"><i class="far fa-clock text-cyan"></i><span class="mx-1 text-cyan fw-bold">00:02:43</span></span></div>
                </div>
                <div class="row align-items-center CA-ranking-item">
                  <div class="col-12 col-md-3">
                    <div class="contestant text-center text-md-end overflow-hidden text-truncate">
                      <div class="avater"><img src="../../Content/images/classActivity/avatar/avatar_18.png" alt=""/></div>
                      Merry</div>
                  </div>
                  <div class="col-12 col-md-6 px-md-0 my-1">
                    <div class="progress rounded-pill">
                      <div class="progress-bar bg-cyan" role="progressbar" style="width: 100%" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100" data-bs-toggle="tooltip" data-bs-placement="top" data-bs-title="作答完成度">100%</div>
                    </div>
                  </div>
                  <div class="col-12 col-md-3 text-center text-md-start"><span data-bs-toggle="tooltip" data-bs-placement="top" data-bs-title="作答時長"><i class="far fa-clock text-cyan"></i><span class="mx-1 text-cyan fw-bold">00:02:53</span></span></div>
                </div>
                <div class="row align-items-center CA-ranking-item">
                  <div class="col-12 col-md-3">
                    <div class="contestant text-center text-md-end overflow-hidden text-truncate">
                      <div class="avater"><img src="../../Content/images/classActivity/avatar/avatar_34.png" alt=""/></div>
                      Kevin</div>
                  </div>
                  <div class="col-12 col-md-6 px-md-0 my-1">
                    <div class="progress rounded-pill">
                      <div class="progress-bar bg-cyan" role="progressbar" style="width: 75%" aria-valuenow="75" aria-valuemin="0" aria-valuemax="100" data-bs-toggle="tooltip" data-bs-placement="top" data-bs-title="作答完成度">75%</div>
                    </div>
                  </div>
                  <div class="col-12 col-md-3 text-center text-md-start"><span data-bs-toggle="tooltip" data-bs-placement="top" data-bs-title="作答時長"><i class="far fa-clock text-cyan"></i><span class="mx-1 text-cyan fw-bold">00:03:03</span></span></div>
                </div>
                <div class="row align-items-center CA-ranking-item">
                  <div class="col-12 col-md-3">
                    <div class="contestant text-center text-md-end overflow-hidden text-truncate">
                      <div class="avater"><img src="../../Content/images/classActivity/avatar/avatar_37.png" alt=""/></div>
                      Lawrence</div>
                  </div>
                  <div class="col-12 col-md-6 px-md-0 my-1">
                    <div class="progress rounded-pill">
                      <div class="progress-bar bg-cyan" role="progressbar" style="width: 75%" aria-valuenow="75" aria-valuemin="0" aria-valuemax="100" data-bs-toggle="tooltip" data-bs-placement="top" data-bs-title="作答完成度">75%</div>
                    </div>
                  </div>
                  <div class="col-12 col-md-3 text-center text-md-start"><span data-bs-toggle="tooltip" data-bs-placement="top" data-bs-title="作答時長"><i class="far fa-clock text-cyan"></i><span class="mx-1 text-cyan fw-bold">00:03:43</span></span></div>
                </div>
                <div class="row align-items-center CA-ranking-item">
                  <div class="col-12 col-md-3">
                    <div class="contestant text-center text-md-end overflow-hidden text-truncate">
                      <div class="avater"><img src="../../Content/images/classActivity/avatar/avatar_29.png" alt=""/></div>
                      OliverOliver Oliver</div>
                  </div>
                  <div class="col-12 col-md-6 px-md-0 my-1">
                    <div class="progress rounded-pill">
                      <div class="progress-bar bg-cyan" role="progressbar" style="width: 50%" aria-valuenow="50" aria-valuemin="0" aria-valuemax="100" data-bs-toggle="tooltip" data-bs-placement="top" data-bs-title="作答完成度">50%</div>
                    </div>
                  </div>
                  <div class="col-12 col-md-3 text-center text-md-start"><span data-bs-toggle="tooltip" data-bs-placement="top" data-bs-title="作答時長"><i class="far fa-clock text-cyan"></i><span class="mx-1 text-cyan fw-bold">00:01:53</span></span></div>
                </div>
              </div>
              <button class="btn btn-cyan position-absolute bottom-0 start-50 translate-middle mb-4 me-4" type="button" id="" onClick="window.close();">關閉</button>
            </div>
          </div>
        </div>
        <!-- 總排名  end  --> 
        
      </div>
      <!-- --> 
    </div>
    <div class="col-lg-4 bg-grid order-1 order-lg-2 position-fixed end-0"> 
      <!-- -->
      <div class="row h-100 justify-content-center align-content-center">
        <div class="col-4 col-md-3 col-lg-10 mb-lg-5 d-flex flex-column justify-content-center">
          <div class="CA-logo"> <img src="../../Content/images/eMPOWER-img.svg" alt="eMPOWER"/>
            <h1 class="d-none d-lg-block">聽打練習</h1>
          </div>
        </div>
        <div class="col-8 col-lg-10 mb-lg-5">
          <div class="row align-items-center">
            <div class="col-auto pe-1"> <span class="text-cyan progress-pre">0%</span> </div>
            <div class="col ps-1">
              <div class="progress rounded-pill">
                <div id="Sbar" class="progress-bar bg-cyan" role="progressbar" style="width: 0%" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100"></div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <!-- --> 
    </div>
  </div>
  <div class="CA-listen__tools STEP1">
    <div class="col-12 col-lg-10 mx-auto ps-5 pe-5 py-3 CA-listen__tools-bg">
      <div class="row align-items-center">
        <div class="col-12 col-xl">
          <div class="CA-listen__tools-tips" style="display: none;">
            <div class="tips-icon"></div>
            <div class="tips-words">照片</div>
            <div class="tips-comments">你好棒！請繼續下一題。</div>
          </div>
        </div>
        <div class="col-12 col-xl-auto">
          <button type="button" class="btn btn-cyan CA-listen__tools-btn" id="CHECK">檢查</button>
        </div>
      </div>
    </div>
  </div>
</div>
<!-- ------- ------- ------- ------- ------- ------- ------- --> 
<!-- ------- ------- ------- ------- ------- ------- ------- --> 
<!-- ------- ------- ------- ------- ------- ------- ------- --> 
<script src="../../Script/bootstrap.bundle.min.js">//BS5 js</script> 
<script src="../../Content/js/previeMark.js">//若為教師預覽加效果</script> 
<script> 
let data = [
    {
        "word": "照片",
        "mp3": "../../Content/temp/照片.mp3" 
    },
    {
        "word": "爸爸",
        "mp3": "../../Content/temp/爸爸.mp3" 
    }
]; 
    
let INPUT = document.querySelector('#INPUT'),
    CHECK = document.querySelector('#CHECK');
    
let tools        = document.querySelector('.CA-listen__tools'),
    tips         = document.querySelector('.CA-listen__tools-tips'),
    tipsWords    = document.querySelector('.CA-listen__tools-tips .tips-words'),
    tipsComments = document.querySelector('.CA-listen__tools-tips .tips-comments');
    
let STEP0 =  document.querySelectorAll('.STEP0'),
    STEP1 =  document.querySelectorAll('.STEP1'),
    STEP2 =  document.querySelectorAll('.STEP2'),
    STEP3 =  document.querySelectorAll('.STEP3'),
    STEP4 =  document.querySelectorAll('.STEP4');          
    
INPUT.addEventListener('keyup', inputFunction);    
CHECK.addEventListener('click', checkFunction); 
    
//預設初始畫面     
waitingStart();
    
var interval = setTimeout(function() {
    showTopicBlock()
    loadTopic(0, data); 
}, 5000);    
    
//STEP0 等待活動開始頁  
function waitingStart(){
    STEP1.forEach(function(el) {
      el.style.display = 'none';
    });      
    STEP2.forEach(function(el) { 
      el.style.display = 'none';
    });
    STEP0.forEach(function(el) {
      el.style.display = '';
      document.querySelector('.Swaiting').textContent = '等待活動開始';  
    }); 
    document.querySelector('#S_HEADER').classList.remove('top-0');
    document.querySelector('#S_HEADER').classList.add('top-25');   
}
    
//STEP0->STEP1 顯示第一題顯示區塊
function showTopicBlock(){
    STEP2.forEach(function(el) { 
      el.style.display = 'none';
    });
    STEP1.forEach(function(el) {
      el.style.display = '';
    });

    document.querySelector('#S_HEADER').classList.remove('top-25');
    document.querySelector('#S_HEADER').classList.add('top-0');
}

//載入題目    
function loadTopic(i, data) {  
    //設定題號 
    let Qnum = Number(i) + 1;    
    document.querySelector('.CA-listen__num label').innerHTML = Qnum;    

    //設定欄位
    INPUT.removeAttribute('disabled');
    
    //設定檢查
    CHECK.classList.add('disabled');
    CHECK.setAttribute('data-check', i);
    
    //設定進度
    percentage(i);
    
    //隱藏#S_HEADER
    document.querySelector('#S_HEADER .contestant').style.display = 'none';
}
    
//載入進度  
function percentage(i) { 
   let percentage = Math.ceil(i/data.length*100);

    document.querySelector('.progress-pre').textContent = percentage + '%';
    document.querySelector('#Sbar').style.width = percentage + '%';
    document.querySelector('#Sbar').setAttribute('aria-valuenow', percentage);  
}       
   
//檢查是否有輸入文字 //(看工程師是否要先檢查輸入是否為中文)
function inputFunction(e) {
    if (e.target.value != '') {
        CHECK.classList.remove('disabled');
    }else{
        CHECK.classList.add('disabled');
    }
}       

//檢查答案 [檢查]
function checkFunction(e) {  
    let userAns = INPUT.value;  
    let nowTopicNum = e.target.getAttribute('data-check'); 
    
    if (userAns == data[nowTopicNum].word) {//(工程師需詳細比對)
        tools.classList.remove('wrong'); 
        tools.classList.add('correct');  
        
        tips.style.display = '';
        tipsWords.innerHTML = '<span style="color:#14a83b;">照</span><span style="color:#14a83b;">片</span>';
        tipsComments.textContent = '你好棒！';
        
        INPUT.setAttribute('disabled', '');
        
        e.target.textContent = '提交';
        e.target.id = 'SEND';
        SEND = document.querySelector('#SEND');
        SEND.addEventListener('click', sendFunction); 
    }else{
        tools.classList.remove('correct');
        tools.classList.add('wrong');
        
        tips.style.display = '';
        tipsWords.innerHTML = '<span style="color:#ff5151;">造</span><span>片</span>';
        tipsComments.textContent = '請修改答案後再次檢查！';
    }
    
    e.target.blur();
}    
    
//[提交] 
function sendFunction(e) {  
    STEP1.forEach(function(el) {
      el.style.display = 'none';
    });
    STEP2.forEach(function(el) {
      el.style.display = '';
    });
    
    document.querySelector('#S_HEADER').classList.remove('top-0');
    document.querySelector('#S_HEADER').classList.add('top-25');
    
    let nextTopicNum = Number(e.target.getAttribute('data-check')) + 1;  
    
    //Swaiting 字樣 [等待下一題 | 等待總排名]
    if( nextTopicNum === data.length ){
        document.querySelector('.Swaiting').textContent = '等待總排名';    
    }else{
        document.querySelector('.Swaiting').textContent = '等待下一題';     
    }
    
    var timeout = setTimeout(function() {//假設題目計時10秒，學生8秒完成，剩2秒到下一題/到結束
        nextFunction(nextTopicNum);
    }, 2000);
}  

//[下一題] 
function nextFunction(nextTopicNum) { 
    if(nextTopicNum === data.length){ //結束
        STEP1.forEach(function(el) {
          el.style.display = 'none';
        });
        STEP2.forEach(function(el) {
          el.style.display = 'none';
        });
        STEP3.forEach(function(el) {
          el.style.display = '';
        });
        
        percentage(nextTopicNum);
        
        //call Bootstrap tooltip  
        let tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'));
        let tooltipList = tooltipTriggerList.map(function (tooltipTriggerEl) {
            return new bootstrap.Tooltip(tooltipTriggerEl)
        });
        
        //排名
        document.querySelector('.CA-ranking-item:nth-child(1) .contestant').classList.add('medal-no1');
        document.querySelector('.CA-ranking-item:nth-child(2) .contestant').classList.add('medal-no2');
        //document.querySelector('.CA-ranking-item:nth-child(3) .contestant').classList.add('medal-no3');
        
    }else{
        STEP2.forEach(function(el) { //下一題
          el.style.display = 'none';
        });
        STEP1.forEach(function(el) {
          el.style.display = '';
        });
        
        document.querySelector('#S_HEADER').classList.remove('top-25');
        document.querySelector('#S_HEADER').classList.add('top-0');

        //重設欄位
        INPUT.value = '';
        
        //重設提示
        tools.classList.remove('correct');
        tips.style.display = 'none';
        
        //重設下一題
        SEND.removeEventListener('click', sendFunction); 
        SEND.textContent = '檢查';
        SEND.id = 'CHECK';
        
        //載入下一題題目
        loadTopic(nextTopicNum, data);
    }
}         
</script>
</body>
</html>
