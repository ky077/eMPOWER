<!doctype html>
<html lang="zh-tw">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="eMPOWER華語文字詞句教學平台">
<meta name="author" content="eMPOWER華語文字詞句教學平台">
<title>eMPOWER華語文字詞句教學平台</title>
<link rel="shortcut icon" type="image/x-icon" href="../Content/images/eMPOWER.ico">
<link rel="stylesheet" type="text/css" href="../Content/css/bootstrap-lg.min.css">
<link rel="stylesheet" type="text/css" href="../Content/css/ie10-viewport-bug-workaround.css">
<link rel="stylesheet" type="text/css" href="../Content/widgets/fontawesome-free-5.15.3-web/css/all.css">

<!-- this page widgets CSS -->
<link rel="stylesheet" type="text/css" href="../Content/widgets/bootstrap-fileinput-master/css/fileinput-eM.css">
<link rel="stylesheet" type="text/css" href="../Content/widgets/bs-stepper-master/src/css/bs-stepper-eM.css">

<!-- my core CSS -->
<link rel="stylesheet" type="text/css" href="../Content/css/eMPOWERstyles.css">
</head>

<body>
<header>
  <nav class="navbar navi-main navbar-fixed-top">
    <div class="container-fluid">
      <div class="row">
        <div class="col-xs-12">
          <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar"> <span class="sr-only">展開上方主選單</span> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span> </button>
            <a class="navbar-brand" href="#"> <img src="../Content/images/eMPOWER-img.svg" alt="eMPOWER華語文字詞句教學平台" class="img-responsive"> </a>
            <h1>eMPOWER華語文字詞句教學平台</h1>
          </div>
          <div id="navbar" class="navbar-collapse collapse">
            <ul class="nav navbar-nav">
              <li class="navTab-TMindex"><a href="../TEACHERmgt/TMindex.html">管理中心</a></li>
              <li class="navTab-stuMgt dropdown"> <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">學生管理&nbsp;<span class="caret"></span></a>
                <ul class="dropdown-menu">
                  <li><a href="../TEACHERmgt/stuMgt__contest.html">設定競賽</a></li>
                  <li><a href="../TEACHERmgt/stuMgt__student.html">學生資料</a></li>
                </ul>
              </li>
              <li class="navTab-schoolScore"><a href="../TEACHERmgt/schoolScore.html">成績查詢</a></li>
              <li class="navTab-schoolLibs"><a href="../TEACHERmgt/schoolLibs.html">本校教材</a></li>
            </ul>
            <ul class="nav navbar-nav navbar-right">
              <li class="dropdown"><a class="navi-main__loginedBtn" data-target="#" href="#" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">張主任</a>
                <ul class="dropdown-menu navi-main__userMenu">
                  <li><a href="../index.html" class="btn navi-main__logoutBtn">登出</a></li>
                </ul>
              </li>
              <li class="dropdown"><a class="navi-main__languageBtn" data-target="#" href="#" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">中文(正體)&nbsp;<span class="caret"></span></a>
                <ul class="dropdown-menu navi-main__languageMenu">
                  <li><a href="" check="checked"><span class="language-icon"><span class="glyphicon glyphicon-ok" aria-hidden="true"></span></span>&nbsp;中文(正體)</a></li>
                  <li><a href=""><span class="language-icon"><span class="glyphicon glyphicon-ok" aria-hidden="true"></span></span>&nbsp;中文(简体)</a></li>
                  <li><a href=""><span class="language-icon"><span class="glyphicon glyphicon-ok" aria-hidden="true"></span></span>&nbsp;English(United States)</a></li>
                </ul>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </nav>
</header>
<!-- ------- ------- ------- ------- ------- ------- ------- -->
<main> 
  <!-- page-banner start -->
  <div class="page-banner classMgt">
    <div class="container-fluid">
      <div class="page-banner__text">
        <div class="row">
          <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 col-xl-10 col-xl-offset-1">
            <h2 class="text-center">設定競賽</h2>
            <p></p>
          </div>
        </div>
      </div>
    </div>
  </div>
  <!-- page-banner end --> 
  
  <!--競賽清單 start-->
  <div class="container-fluid">
    <div class="row">
      <div class="col-xs-12 col-lg-12 col-xl-10 col-xl-offset-1"> 
        <!--function-panel start-->
        <div class="function-panel mb-4">
          <button class="btn btn-main-blue" data-toggle="modal" data-target="#modal-insertContest"><i class="fas fa-plus mr-1"></i>新增競賽</button>
        </div>
        <!--function-panel end--> 
        <!--table start-->
        <div class="table-responsive">
          <table class="table table-hover table-style-default table-bordered bg-white" id="contest-table">
            <thead>
              <tr class="bg-gray">
                <th>競賽組別<i class="fas sort-btn fa-sort ml-1" data-name="classnumber" data-sort="" style="cursor: pointer"></i></th>
                <th>教材<i class="fas sort-btn fa-sort ml-1" data-name="classnumber" data-sort="" style="cursor: pointer"></i></th>
                <th>開始時間<i class="fas sort-btn fa-sort ml-1" data-name="classnumber" data-sort="" style="cursor: pointer"></i></th>
                <th>結束時間<i class="fas sort-btn fa-sort ml-1" data-name="classnumber" data-sort="" style="cursor: pointer"></i></th>
                <th>競賽人數<i class="fas sort-btn fa-sort ml-1" data-name="classnumber" data-sort="" style="cursor: pointer"></i></th>
                <th>設定學生</th>
                <th>修改</th>
                <th>刪除</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td colspan="8"><span class="text-muted">尚無資料</span></td>
              </tr>
              <tr style="display: none;">
                <td>1</td>
                <td>全方位中文1</td>
                <td>2024/05/01</td>
                <td>2025/01/31</td>
                <td>0</td>
                <td><button type="button" class="btn btn-primary noRadius btn-xs" data-toggle="modal" data-target="#modal-stuSet">設定學生</button></td>
                <td><button type="button" class="btn btn-info noRadius btn-xs" data-toggle="modal" data-target="#modal-editContest">修改</button></td>
                <td><button type="button" class="btn btn-danger noRadius btn-xs">刪除</button></td>
              </tr>
            </tbody>
            <tfoot>
              <tr style="display:none;">
                <td colspan="9"></td>
              </tr>
            </tfoot>
          </table>
        </div>
        <!--table end--> 
      </div>
      <!-- 右邊內容end --> 
    </div>
  </div>
  <!--競賽清單 end--> 
</main>
<!-- Modal#modal-insertContest start -->
<div class="modal fade modal-insertContest" id="modal-insertContest" tabindex="-1" role="dialog" data-backdrop="static" data-keyboard="false">
  <div class="modal-dialog" role="document">
    <div class="modal-content noRadius">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title">新增競賽</h4>
      </div>
      <div class="modal-body">
        <div class="form-horizontal form-style-1">
          <div class="form-group"> <label for="" class="col-sm-3 control-label"><span class="text-red">*</span>競賽組別</label>
            <div class="col-sm-8">
              <input type="text" class="form-control noRadius input-lg" id="" value="1" disabled readonly>
            </div>
          </div>
          <div class="form-group"> <label for="" class="col-sm-3 control-label"><span class="text-red">*</span>教材</label>
            <div class="col-sm-8">
              <select class="form-control">
                <option>全方位中文1</option>
                <option>全方位中文2</option>
                <option>新版實用視聽華語1</option>
              </select>
            </div>
          </div>
          <div class="form-group"> <label for="" class="col-sm-3 control-label"><span class="text-red">*</span>開始時間</label>
            <div class="col-sm-8">
              <input type="date" class="form-control noRadius input-lg" id="">
            </div>
          </div>
          <div class="form-group"> <label for="" class="col-sm-3 control-label"><span class="text-red">*</span>結束時間</label>
            <div class="col-sm-8">
              <input type="date" class="form-control noRadius input-lg" id="">
            </div>
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <div class="text-center">
          <button type="button" class="btn btn-main-blue-white" data-dismiss="modal">取消</button>
          <button type="button" class="btn btn-main-blue" data-dismiss="modal">確定</button>
        </div>
      </div>
    </div>
  </div>
</div>
<!-- Modal#modal-insertContest end --> 

<!-- Modal#modal-stuSet start -->
<div class="modal fade modal-stuSet" id="modal-stuSet" tabindex="-1" role="dialog" data-backdrop="static" data-keyboard="false">
  <div class="modal-dialog modal-lg" role="document">
    <div class="modal-content noRadius">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title">設定學生</h4>
      </div>
      <div class="modal-body">
        <div class="panel-group panel-group-checkbox" id="accordion" role="tablist" aria-multiselectable="true">
          <div class="panel panel-default checkbox-parent">
            <div class="panel-heading" role="tab" id="headingOne">
              <h4 class="panel-title">
                <div class="checkbox icheck-main-blue checkbox-inline">
                  <input type="checkbox" id="A01" name="checkAll">
                  <label for="A01"></label></div>
                <a role="button" data-toggle="collapse" href="#collapseOne" aria-expanded="false" aria-controls="collapseOne">A01<small>授課老師：老師姓名</small></a></h4>
            </div>
            <div id="collapseOne" class="panel-collapse collapse checkbox-children" role="tabpanel" aria-labelledby="headingOne">
              <div class="panel-body">
                <table class="table table-bordered">
                  <tbody>
                    <tr>
                      <td><div class="checkbox icheck-main-blue checkbox-inline">
                          <input type="checkbox" id="A01s1">
                          <label for="A01s1">學生姓名</label></div></td>
                      <td><div class="checkbox icheck-main-blue checkbox-inline">
                          <input type="checkbox" id="A01s2">
                          <label for="A01s2">學生姓名</label></div></td>
                    </tr>
                    <tr>
                      <td><div class="checkbox icheck-main-blue checkbox-inline">
                          <input type="checkbox" id="A01s3">
                          <label for="A01s3">學生姓名</label></div></td>
                      <td><div class="checkbox icheck-main-blue checkbox-inline">
                          <input type="checkbox" id="A01s4">
                          <label for="A01s4">學生姓名</label></div></td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
          </div>
          <div class="panel panel-default checkbox-parent">
            <div class="panel-heading" role="tab" id="headingTwo">
              <h4 class="panel-title">
                <div class="checkbox icheck-main-blue checkbox-inline">
                  <input type="checkbox" id="A02" name="checkAll">
                  <label for="A02"></label></div>
                <a class="collapsed" role="button" data-toggle="collapse" href="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">A02<small>授課老師：老師姓名</small></a></h4>
            </div>
            <div id="collapseTwo" class="panel-collapse collapse checkbox-children" role="tabpanel" aria-labelledby="headingTwo">
              <div class="panel-body">
                <table class="table table-bordered">
                  <tbody>
                    <tr>
                      <td><div class="checkbox icheck-main-blue checkbox-inline">
                          <input type="checkbox" id="A02s1">
                          <label for="A02s1">學生姓名</label></div></td>
                      <td><div class="checkbox icheck-main-blue checkbox-inline">
                          <input type="checkbox" id="A02s2">
                          <label for="A02s2">學生姓名</label></div></td>
                    </tr>
                    <tr>
                      <td><div class="checkbox icheck-main-blue checkbox-inline">
                          <input type="checkbox" id="A02s3">
                          <label for="A02s3">學生姓名</label></div></td>
                      <td><div class="checkbox icheck-main-blue checkbox-inline">
                          <input type="checkbox" id="A02s4">
                          <label for="A02s4">學生姓名</label></div></td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
          </div>
          <div class="panel panel-default checkbox-parent">
            <div class="panel-heading" role="tab" id="headingThree">
              <h4 class="panel-title">
                <div class="checkbox icheck-main-blue checkbox-inline">
                  <input type="checkbox" id="A03" name="checkAll">
                  <label for="A03"></label></div>
                <a class="collapsed" role="button" data-toggle="collapse" href="#collapseThree" aria-expanded="false" aria-controls="collapseThree">A03<small>授課老師：老師姓名</small></a></h4>
            </div>
            <div id="collapseThree" class="panel-collapse collapse checkbox-children" role="tabpanel" aria-labelledby="headingThree">
              <div class="panel-body">
                <table class="table table-bordered">
                  <tbody>
                    <tr>
                      <td><div class="checkbox icheck-main-blue checkbox-inline">
                          <input type="checkbox" id="A03s1">
                          <label for="A03s1">學生姓名</label></div></td>
                      <td><div class="checkbox icheck-main-blue checkbox-inline">
                          <input type="checkbox" id="A03s2">
                          <label for="A03s2">學生姓名</label></div></td>
                    </tr>
                    <tr>
                      <td><div class="checkbox icheck-main-blue checkbox-inline">
                          <input type="checkbox" id="A03s3">
                          <label for="A03s3">學生姓名</label></div></td>
                      <td><div class="checkbox icheck-main-blue checkbox-inline">
                          <input type="checkbox" id="A03s4">
                          <label for="A03s4">學生姓名</label></div></td>
                    </tr>
                    <tr>
                      <td><div class="checkbox icheck-main-blue checkbox-inline">
                          <input type="checkbox" id="A03s5">
                          <label for="A03s5">學生姓名</label></div></td>
                      <td><div class="checkbox icheck-main-blue checkbox-inline">
                          <input type="checkbox" id="A03s6">
                          <label for="A03s6">學生姓名</label></div></td>
                    </tr>
                    <tr>
                      <td><div class="checkbox icheck-main-blue checkbox-inline">
                          <input type="checkbox" id="A03s7">
                          <label for="A03s7">學生姓名</label></div></td>
                      <td><div class="checkbox icheck-main-blue checkbox-inline">
                          <input type="checkbox" id="A03s8">
                          <label for="A03s8">學生姓名</label></div></td>
                    </tr>
                    <tr>
                      <td><div class="checkbox icheck-main-blue checkbox-inline">
                          <input type="checkbox" id="A03s9">
                          <label for="A03s9">學生姓名</label></div></td>
                      <td><div class="checkbox icheck-main-blue checkbox-inline">
                          <input type="checkbox" id="A03s10">
                          <label for="A03s10">學生姓名</label></div></td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <div class="text-center">
          <button type="button" class="btn btn-main-blue-white" data-dismiss="modal">取消</button>
          <button type="button" class="btn btn-main-blue" data-dismiss="modal">確定</button>
        </div>
      </div>
    </div>
  </div>
</div>
<!-- Modal#modal-stuSet end --> 

<!-- Modal#modal-editContest start -->
<div class="modal fade modal-editContest" id="modal-editContest" tabindex="-1" role="dialog" data-backdrop="static" data-keyboard="false">
  <div class="modal-dialog" role="document">
    <div class="modal-content noRadius">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title">修改競賽</h4>
      </div>
      <div class="modal-body">
        <div class="form-horizontal form-style-1">
          <div class="form-group"> <label for="" class="col-sm-3 control-label"><span class="text-red">*</span>競賽組別</label>
            <div class="col-sm-8">
              <input type="text" class="form-control noRadius input-lg" id="" value="1" disabled readonly>
            </div>
          </div>
          <div class="form-group"> <label for="" class="col-sm-3 control-label"><span class="text-red">*</span>教材</label>
            <div class="col-sm-8">
              <select class="form-control" disabled>
                <option selected>全方位中文1</option>
                <option>全方位中文2</option>
                <option>新版實用視聽華語1</option>
              </select>
            </div>
          </div>
          <div class="form-group"> <label for="" class="col-sm-3 control-label"><span class="text-red">*</span>開始時間</label>
            <div class="col-sm-8">
              <input type="date" class="form-control noRadius input-lg" id="" value="2024-05-01">
            </div>
          </div>
          <div class="form-group"> <label for="" class="col-sm-3 control-label"><span class="text-red">*</span>結束時間</label>
            <div class="col-sm-8">
              <input type="date" class="form-control noRadius input-lg" id="" value="2025-01-31">
            </div>
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <div class="text-center">
          <button type="button" class="btn btn-main-blue-white" data-dismiss="modal">取消</button>
          <button type="button" class="btn btn-main-blue" data-dismiss="modal">確定修改</button>
        </div>
      </div>
    </div>
  </div>
</div>
<!-- Modal#modal-editContest end --> 
<!-- ------- ------- ------- ------- ------- ------- ------- --> 
<!-- ------- ------- ------- ------- ------- ------- ------- --> 
<!-- ------- ------- ------- ------- ------- ------- ------- --> 
<script src="../Script/jquery.min.js"></script> 
<script src="../Script/bootstrap.min.js"></script> 
<script src="../Script/ie10-viewport-bug-workaround.js"></script> 
<!-- widgets js --> 
<script src="../Content/widgets/bootstrap-fileinput-master/js/fileinput.min.js"></script> 
<script src="../Content/widgets/bootstrap-fileinput-master/js/locales/zh-TW.js"></script> 
<script src="../Content/widgets/bs-stepper-master/src/js/bs-stepper.min.js">//bs-stepper</script> 
<script>
$(document).ready(function() {
	//nowPage 
	$('.navTab-stuMgt').addClass('active');
    
    //demo [新增競賽]>[確定] 顯示表格資料
    $('#modal-insertContest .modal-footer .btn-main-blue').click(function(){ 
        $('#contest-table tbody tr:first-child').hide();
        $('#contest-table tbody tr:not(:first-child)').show();
    });
    
    //[選擇學生]
    checkboxFun();    
    function checkboxFun(){
        //全選
        $('input[name="checkAll"]').change(function(){ 
            var parents = $(this).closest('.checkbox-parent');
            var children = parents.find('.checkbox-children');

            var allBox = children.find('input[type="checkbox"]:checkbox');
            $(this).is(':checked') ? allBox.prop('indeterminate', false) : allBox.prop('indeterminate', false);
            $(this).is(':checked') ? allBox.prop('checked', true) : allBox.prop('checked', false);
        }); 

        //反選
        $('input[type="checkbox"]:not([name="checkAll"])').change(function(){  
            var parents = $(this).closest('.checkbox-parent');
            var children = parents.find('.checkbox-children');
                                                                             
            var allBox = children.find('input[type="checkbox"]:checkbox');  
            var checkedBox = children.find('input[type="checkbox"]:checked');  
            var targetBox = parents.find('input[name="checkAll"]:checkbox');  
            
            if ( checkedBox.length === allBox.length ) {
                targetBox.prop({
                    indeterminate: false,
                    checked: true
                });
            } else if ( checkedBox.length === 0 ){
                targetBox.prop({
                    indeterminate: false,
                    checked: false
                });
            } else {
                targetBox.prop({
                    indeterminate: true,
                    checked: false
                });
            }
        });
    }  
    
    //demo[選擇學生]>>[確定] 顯示競賽人數
    $('#modal-stuSet .modal-footer .btn-main-blue').click(function(){ 
        let checkStu = $('#modal-stuSet').find('input[type="checkbox"]:not([name="checkAll"]):checked').length;
        
        $('#contest-table tbody tr:nth-child(2) td:nth-child(5)').html(checkStu);    
    });
    
    //排序點選事件
    $('.sort-btn').on('click', function () {
        var sortName = $(this).data('name');
        var sortType = $(this).data('sort');

        //判斷sort方式
        switch (sortType) {
            case "":
                sortType = "asc";
                break;
            case "asc":
                sortType = "desc";
                break;
            case "desc":
                sortType = "asc";
                break;
            default:
        }

        //更新排序狀態
        $('.sort-btn').each(function () {
            $(this).removeClass('fa-sort');
            $(this).removeClass('fa-sort-up');
            $(this).removeClass('fa-sort-down');

            if ($(this).data('name') == sortName) {
                if (sortType == "asc") {
                    $(this).addClass('fa-sort-down');
                } else {
                    $(this).addClass('fa-sort-up');
                }
                $(this).data('sort', sortType);
            } else {
                $(this).addClass('fa-sort');
                $(this).data('sort', '');
            }
        });

        //dataSort();
        //renderTable();
    });
});
</script>
</body>
</html>
