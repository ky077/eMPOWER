/* myLibs__content-全方位中文.html */
.handbook-customBtn{
    width: 100%;
    @media screen and (min-width: 768px) {
    width: auto;    
    }
}
.modal-handbook{
    .modal-body{
        position: relative;
        height: calc(100vh - 30px - 30px - 2px);
        border-radius: .5rem;
        overflow: hidden;
        .close{
            position: absolute;
            top: calc((.5rem + 3.6rem + .5rem)/2);
            right: 1rem;
            font-size: 1.5rem;
            transform: translateY(-50%);
        }
    }  
}

#iframe-handbook, .handbook-body{
    background-color: transparent; 
}

/* handbook.html */
.handbook-body{
    background-color: rgba($color-bg, .5) !important;
    /*禁止複製*/
    -webkit-user-select:none;
    -webkit-touch-callout:none;
    -moz-user-select: none;

    .navi-main .navbar-header .navbar-brand > img {
        width: auto;
        height: 3rem;
        margin-right: .5rem;
    }
    .navi-main .navbar-header h1 {
        width: auto;
        height: auto;
        max-height: 1.5rem*1.1*2;
        text-indent: 0;
        overflow: visible;
        display: inline-block;
        font-size: 1.5rem;
        margin-top: 0;
        margin-bottom: 0;
        overflow: hidden;
    }
    .navi-main .navbar-header{
        display: flex;
        align-items: center;
        padding-right: 1.5rem + .5rem;
    } 

    .sidebar-main {
        background-attachment: fixed;
        background-repeat: no-repeat;
        background-position: bottom calc((.5rem + 3.6rem + .75rem)/2) center;
        background-size: auto calc(100% - (.5rem + 3.6rem + .75rem)*2);
        min-height: calc(100vh - (.5rem + 3.6rem + .75rem));
    }
}
.handbook-topic{
    font-size: 1.2rem; 
    color: $color-main-sky;
    border-bottom: 1px solid #ddd;
    padding-top: 10px;
    padding-bottom: 10px;   
}
.handbook-content{
    font-size: 1rem; 
    line-height: 1.6;
    padding-bottom: 2rem;
}

//教案
.handbook-content.lessonPlan{
    h3{
        font-size: 1.1rem; 
    }
    .handbook-focus{
        font-size: .9rem; 
        color: $color-default-gray;
        margin-bottom: 2rem;
    }
    hr:last-child{
        display: none;
    }
    .tooltip .tooltip-inner{
        font-size: .8rem;
        text-align: left;
    }
}
.handbook-card-group{
    display: flex;
    flex-wrap: wrap;
    .handbook-card-item{
        flex: 0 0 auto;
        width: 100%;  
        padding: 1rem .75rem;
        @media screen and (min-width: 768px) {
        width: 50%;     
        }
        @media screen and (min-width: 1200px) {
        width: 33.3333333333%;     
        }
    }
    .handbook-card-block{
        background-color: rgba(white, .5);
        border-radius: .5rem;
        box-shadow: 0 0 5px rgba(black, .15);
        padding: .75rem;
        border-radius: .5rem;
        display: flex;
        flex-direction: column;
        height: 100% !important;
        h4{
            font-size: 1rem;
            background-color: #ebebeb;
            margin: 0;
            padding: .5rem;
            margin: -.75rem -.75rem .75rem -.75rem;
            border-radius: .5rem .5rem 0 0;
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: relative;
            padding-left: .75rem + 3rem;
            font-weight: 500;
            &::before{
                font-size: 3rem;
                font-weight: 400;
                font-style: italic; 
                position: absolute;
                bottom: 0;
                left: .75rem;
            }
            small{
                @extend .text-muted; 
                font-size: .85rem;
                &::before{
                    content: "\f017";
                    font-family: "Font Awesome 5 Free"; 
                    font-weight: 400;
                    margin-right: 2px;
                }
            }
            @media screen and (max-width: 399px) {
            flex-direction: column;  
            align-items: flex-start;  
            &::before{
                bottom: .25rem;
            }   
            small{   
                margin-top: .25rem;
            }
            }
        }
        .plan-skill{
            font-size: .9rem;
            margin-bottom: .5rem;
            font-weight: 500;
            &::before{
                content: "\f7d9";
                font-family: "Font Awesome 5 Free"; 
                font-weight: 900;
                display: inline-block;
                width: 1rem;
                text-align: center;
                margin-right: .2rem;
            }
        }
        .plan-app{
            font-size: .9rem;
            margin-bottom: .5rem;
            font-weight: 500;
            display: flex;
            align-items: center;
            color: $color-main-sky;
            &::before{ 
                content: "\f0eb";
                font-family: "Font Awesome 5 Free"; 
                font-weight: 900;
                display: inline-block;
                width: 1rem;
                text-align: center;
                margin-right: .2rem;
            }
            img{
                height: 1.2rem;
                margin: 0 .2rem;
            }
        }
        .plan-text{
            font-size: .9rem;
            color: $color-default-gray;
            margin-left: 1.2rem;
            margin-right: 1.2rem;
            ul{
                padding-left: 1rem;
                margin-bottom: 0;
                li{
                    margin-bottom: 10px;
                    p{
                        margin-bottom: 0;
                    }
                }
            }
            strong{
                font-weight: 600;
            }
            table{
                table-layout: fixed;
                margin-left: 1rem;
                width: calc(100% - 1rem);
                tbody > tr > td{ 
                    border: 2px solid lighten($color-default-gray, 35%); 
                    &:first-child{ border-left-color: $color-default-gray;}
                    &:last-child{  border-right-color: $color-default-gray;}
                }
                tbody > tr:first-child > td{ 
                    border-top-color: $color-default-gray; 
                    font-weight: 500;
                }
                tbody > tr:last-child > td{ 
                    border-bottom-color: $color-default-gray;    
                }
                tbody > tr:not(:first-child) > td{ 
                    color: lighten($color-default-gray, 10%);
                }
            }
        }
        .plan-square{
            font-size: .9rem;
            margin-top: .5rem;
            margin-bottom: .5rem;
            color: $color-default-gray;
            display: flex;
            padding-left: 1.2rem;
            padding-right: 1.2rem;
            h5{
                border: 1px solid $color-default-gray;
                padding: .25rem;
                margin: 0 .5rem 0 0;
                font-size: .85rem; 
                min-width: 2rem + .25rem*2;
                width: 2rem + .25rem*2;
                max-width: 2rem + .25rem*2;
                text-align: center;
                line-height: 1.2;
            }
            .outerText{ 
                padding: .25rem 0;
                line-height: 1.2;
                font-weight: 500;
            }
            .outerP{
                font-size: .85rem;
                color: lighten($color-default-gray, 10%);
            }
        }

        .bg-blue   { background-color: rgba($color-main-blue,   .2); }
        .bg-sky    { background-color: rgba($color-main-sky,    .2); }
        .bg-green  { background-color: rgba($color-main-green,  .2); }
        .bg-yellow { background-color: rgba($color-main-yellow, .2); }
        .bg-purple { background-color: rgba($color-main-purple, .2); }
            .bg-purple-part { background-color: rgba($color-main-purple-part, .2); }
            .bg-purple-text { background-color: rgba($color-main-purple-text, .2); }
        .bg-orange { background-color: rgba($color-main-orange, .2); }
        .bg-skin   { background-color: rgba($color-main-skin,   .2); }
        .bg-cyan   { background-color: rgba($color-main-cyan,   .2); }
        

        [class*='plan-'] + .plan-text{
            border-top: 1px dashed #ddd;
            padding-top: .5rem;
        }
    }
    counter-reset: handbook-card-num;
    .handbook-card-item .handbook-card-block h4:before{ 
        counter-increment: handbook-card-num; 
        content: counter(handbook-card-num)".";
    }
}

//策略-教學重點
@mixin fieldset-color($color) {
    border-color: $color;
    legend{
        color: $color;
    }
}
.handbook-content.strategyFocus{
    .handbook-card-group{
        .handbook-card-item{
            width: 100%;  
            @media screen and (min-width: 768px) {
            width: 100%;     
            }
            @media screen and (min-width: 1200px) {
            width: 33.3333333333%;     
            }
        }    
    }
    fieldset{
        border-width: 3px;
        padding: .5rem 1.5rem;
        font-size: .9rem;
        border-radius: .5rem;
        display: flex;
        flex-direction: column;
        height: 100% !important;
        legend{
            margin: 0 0 0 -.5rem;
            font-weight: 500;
            font-size: 1.1rem;
        }        
    }
    fieldset.blue{   @include fieldset-color($color-main-blue);  }
    fieldset.sky{    @include fieldset-color($color-main-sky);   }
    fieldset.green{  @include fieldset-color($color-main-green); }
    fieldset.yellow{ @include fieldset-color($color-main-yellow);}
    fieldset.purple{ @include fieldset-color($color-main-purple);}
        fieldset.purple-part{ @include fieldset-color($color-main-purple-part);}
        fieldset.purple-text{ @include fieldset-color($color-main-purple-text);}
    fieldset.orange{ @include fieldset-color($color-main-orange);}
    fieldset.skin{   @include fieldset-color($color-main-skin);  }
    fieldset.cyan{   @include fieldset-color($color-main-cyan);  }
}

//策略-活動遊戲
.handbook-content.strategyAG{
    font-size: .9rem;
    color: $color-default-gray;
    [class*="strategyAG-"]{
        margin: 2rem auto;
        
        .nav-pills{
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            margin-bottom: 2rem;
            >li {
                margin: 0 1rem;
            }
            >li > a{
                background-color: transparent;
                color: $color-default-gray;
                border-radius: 0;
                border-bottom: 2px solid transparent;
                &:hover{
                    color: $color-default-black;    
                }
            }
            >li.active > a{
                background-color: transparent;
                color: $color-default-black;
                border-bottom: 2px solid $color-default-black;
            }
        }
        .tab-content{
            margin: 0 auto;
            padding-left: 2rem;
            padding-right: 2rem;
            @media screen and (min-width: 1200px) {
            max-width: 90%;
            }
            @media screen and (min-width: 1400px) {
            max-width: 80%;
            }
            h3{
                margin: 1rem -2rem 2rem -2rem;
                text-align: center;  
                > span{
                    display: block;
                    font-size: 1.1rem;
                    padding: .5rem 2rem;
                    border-radius: 4rem;
                    background-color: rgba($color-default-gray, .5);
                    color: #fff;
                }
                > small{
                    display: block;
                    font-size: .85rem;
                    font-weight: 500;
                    color: $color-default-gray;
                    margin-top: 0.25rem;
                }
            }
            h3 + p{
                font-size: 1rem;
                margin-bottom: 2rem;
                display: flex;
                justify-content: center;
            }
            h4{ 
                text-align: center;
                max-width: 100%;
                overflow: hidden;
                margin: 2rem -1rem 1rem -1rem;
                > span{
                    display: inline-block;
                    background-color: rgba($color-default-gray, .75); 
                    color: #fff;
                    padding: .5rem 2rem;
                    border-radius: 4rem;
                    position: relative;
                    &::before{ 
                        position: absolute;
                        top: 50%;
                        right: 100%;
                        transform: translateY(calc(-50% + 2px)) rotateY(180deg);
                        opacity: .75;
                    }
                    &::after{ 
                        position: absolute;
                        top: 50%;
                        left: 100%;
                        transform: translateY(calc(-50% + 2px));
                        opacity: .75;
                    }
                    &::before, &::after{
                        content: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='960' height='31' viewBox='0 0 960 31'%3E %3Cg id='Group_79' data-name='Group 79' transform='translate(-8219.5 -2718)'%3E %3Crect id='Rectangle_115' data-name='Rectangle 115' width='31' height='31' rx='15.5' transform='translate(8225 2718)' fill='%235c6466'/%3E %3Crect id='Rectangle_116' data-name='Rectangle 116' width='25' height='25' rx='12.5' transform='translate(8260 2721)' fill='%235c6466'/%3E %3Crect id='Rectangle_117' data-name='Rectangle 117' width='20' height='20' rx='10' transform='translate(8290 2724)' fill='%235c6466'/%3E %3Crect id='Rectangle_118' data-name='Rectangle 118' width='15' height='15' rx='7.5' transform='translate(8315 2726)' fill='%235c6466'/%3E %3Cline id='Line_8' data-name='Line 8' x2='850' transform='translate(8329.5 2733.5)' fill='none' stroke='%235c6466' stroke-width='2'/%3E %3Cline id='Line_10' data-name='Line 10' x1='5' transform='translate(8219.5 2733.5)' fill='none' stroke='%23707070' stroke-width='2' opacity='0'/%3E %3C/g%3E %3C/svg%3E ");
                    }
                }
            }
            h3 + p + h4 {
                margin-top: 0;
            }
            .row{
                >div:first-child{
                    text-align: left; 
                    font-size: 1rem;
                    color: $color-default-black; 
                    font-weight: 500;
                }
                >div:last-child{
                    text-align: left; 
                }
            }
            hr{
                margin-top: 2rem;
                margin-bottom: 2rem;
            } 
        }
    }
    .strategyAG-pinyin{
        .nav-pills{
            >li > a:hover{ color: $color-main-purple-part;}
            >li.active > a{ color: $color-main-purple-part;
                            border-bottom-color: $color-main-purple-part;}
        }
        .tab-content{
            h3{
                > span{
                    background-color: rgba($color-main-purple-part, .75);
                }
                > small{
                    color: rgba($color-main-purple-part, .75);
                }
            }
            h4{ 
                > span{
                    background-color: rgba($color-main-purple-part, .75); 
                    &::before, &::after{
                        content: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='960' height='31' viewBox='0 0 960 31'%3E %3Cg id='Group_79' data-name='Group 79' transform='translate(-8219.5 -2718)'%3E %3Crect id='Rectangle_115' data-name='Rectangle 115' width='31' height='31' rx='15.5' transform='translate(8225 2718)' fill='%23cb87aa'/%3E %3Crect id='Rectangle_116' data-name='Rectangle 116' width='25' height='25' rx='12.5' transform='translate(8260 2721)' fill='%23cb87aa'/%3E %3Crect id='Rectangle_117' data-name='Rectangle 117' width='20' height='20' rx='10' transform='translate(8290 2724)' fill='%23cb87aa'/%3E %3Crect id='Rectangle_118' data-name='Rectangle 118' width='15' height='15' rx='7.5' transform='translate(8315 2726)' fill='%23cb87aa'/%3E %3Cline id='Line_8' data-name='Line 8' x2='850' transform='translate(8329.5 2733.5)' fill='none' stroke='%23cb87aa' stroke-width='2'/%3E %3Cline id='Line_10' data-name='Line 10' x1='5' transform='translate(8219.5 2733.5)' fill='none' stroke='%23707070' stroke-width='2' opacity='0'/%3E %3C/g%3E %3C/svg%3E ");
                    }
                }
            }
        }
    }
    .strategyAG-vocabulary{
        .nav-pills{
            >li > a:hover{ color: $color-main-purple;}
            >li.active > a{ color: $color-main-purple;
                            border-bottom-color: $color-main-purple;}
        }
        .tab-content{
            h3{
                > span{
                    background-color: rgba($color-main-purple, .75);
                }
                > small{
                    color: rgba($color-main-purple, .75);
                }
            }
            h4{ 
                > span{
                    background-color: rgba($color-main-purple, .75); 
                    &::before, &::after{
                        content: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='960' height='31' viewBox='0 0 960 31'%3E %3Cg id='Group_79' data-name='Group 79' transform='translate(-8219.5 -2718)'%3E %3Crect id='Rectangle_115' data-name='Rectangle 115' width='31' height='31' rx='15.5' transform='translate(8225 2718)' fill='%23bc87ba'/%3E %3Crect id='Rectangle_116' data-name='Rectangle 116' width='25' height='25' rx='12.5' transform='translate(8260 2721)' fill='%23bc87ba'/%3E %3Crect id='Rectangle_117' data-name='Rectangle 117' width='20' height='20' rx='10' transform='translate(8290 2724)' fill='%23bc87ba'/%3E %3Crect id='Rectangle_118' data-name='Rectangle 118' width='15' height='15' rx='7.5' transform='translate(8315 2726)' fill='%23bc87ba'/%3E %3Cline id='Line_8' data-name='Line 8' x2='850' transform='translate(8329.5 2733.5)' fill='none' stroke='%23bc87ba' stroke-width='2'/%3E %3Cline id='Line_10' data-name='Line 10' x1='5' transform='translate(8219.5 2733.5)' fill='none' stroke='%23707070' stroke-width='2' opacity='0'/%3E %3C/g%3E %3C/svg%3E ");
                    }
                }
            }
        }
    }
    .strategyAG-sentence{ 
        .nav-pills{
            >li > a:hover{ color: $color-main-orange;}
            >li.active > a{ color: $color-main-orange;
                            border-bottom-color: $color-main-orange;}
        }
        .tab-content{
            h3{
                > span{
                    background-color: rgba($color-main-orange, .75);
                }
                > small{
                    color: rgba($color-main-orange, .75);
                }
            }
            h4{ 
                > span{
                    background-color: rgba($color-main-orange, .75); 
                    &::before, &::after{
                        content: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='960' height='31' viewBox='0 0 960 31'%3E %3Cg id='Group_79' data-name='Group 79' transform='translate(-8219.5 -2718)'%3E %3Crect id='Rectangle_115' data-name='Rectangle 115' width='31' height='31' rx='15.5' transform='translate(8225 2718)' fill='%23db600e'/%3E %3Crect id='Rectangle_116' data-name='Rectangle 116' width='25' height='25' rx='12.5' transform='translate(8260 2721)' fill='%23db600e'/%3E %3Crect id='Rectangle_117' data-name='Rectangle 117' width='20' height='20' rx='10' transform='translate(8290 2724)' fill='%23db600e'/%3E %3Crect id='Rectangle_118' data-name='Rectangle 118' width='15' height='15' rx='7.5' transform='translate(8315 2726)' fill='%23db600e'/%3E %3Cline id='Line_8' data-name='Line 8' x2='850' transform='translate(8329.5 2733.5)' fill='none' stroke='%23db600e' stroke-width='2'/%3E %3Cline id='Line_10' data-name='Line 10' x1='5' transform='translate(8219.5 2733.5)' fill='none' stroke='%23707070' stroke-width='2' opacity='0'/%3E %3C/g%3E %3C/svg%3E ");
                    }
                }
            }
        }
    }  
}
